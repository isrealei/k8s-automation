2023-03-06 15:31:13,057 p=12787 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:31:13,058 p=12787 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:31:13,058 p=12787 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:31:13,058 p=12787 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:31:13,220 p=12787 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:31:13,233 p=12787 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:31:13,248 p=12787 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:31:13,253 p=12787 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:31:13,266 p=12787 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:31:13,271 p=12787 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:31:13,288 p=12787 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:31:13,294 p=12787 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:31:59,374 p=12787 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.124 port 22: Connection timed out", "unreachable": true}
2023-03-06 15:31:59,376 p=12787 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:31:59,377 p=12787 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 15:34:42,087 p=12815 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:34:42,087 p=12815 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:34:42,087 p=12815 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:34:42,088 p=12815 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:34:42,246 p=12815 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:34:42,259 p=12815 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:34:42,274 p=12815 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:34:42,279 p=12815 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:34:42,291 p=12815 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:34:42,297 p=12815 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:34:42,313 p=12815 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:34:42,318 p=12815 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:35:28,394 p=12815 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.124 port 22: Connection timed out", "unreachable": true}
2023-03-06 15:35:28,397 p=12815 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:35:28,397 p=12815 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 15:41:16,651 p=12839 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:41:16,651 p=12839 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:41:16,651 p=12839 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:41:16,652 p=12839 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:41:16,813 p=12839 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:41:16,825 p=12839 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:41:16,840 p=12839 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:41:16,845 p=12839 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:41:16,859 p=12839 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:41:16,864 p=12839 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:41:16,880 p=12839 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:41:16,885 p=12839 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:42:02,962 p=12839 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.124 port 22: Connection timed out", "unreachable": true}
2023-03-06 15:42:02,964 p=12839 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:42:02,965 p=12839 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 15:42:45,647 p=12856 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:42:45,648 p=12856 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:42:45,648 p=12856 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:42:45,648 p=12856 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:42:45,807 p=12856 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:42:45,820 p=12856 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:42:45,834 p=12856 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:42:45,839 p=12856 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:42:45,851 p=12856 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:42:45,856 p=12856 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:42:45,871 p=12856 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:42:45,876 p=12856 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:43:31,950 p=12856 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.124 port 22: Connection timed out", "unreachable": true}
2023-03-06 15:43:31,953 p=12856 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:43:31,953 p=12856 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 15:50:46,947 p=12881 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:50:46,948 p=12881 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:50:46,948 p=12881 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:50:46,948 p=12881 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:50:47,107 p=12881 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:50:47,120 p=12881 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:50:47,135 p=12881 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:50:47,139 p=12881 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:50:47,151 p=12881 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:50:47,156 p=12881 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:50:47,171 p=12881 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:50:47,177 p=12881 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:50:48,874 p=12881 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ubuntu@161.20.1.124: Permission denied (publickey).", "unreachable": true}
2023-03-06 15:50:48,876 p=12881 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:50:48,877 p=12881 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 15:52:04,498 p=12901 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:52:04,498 p=12901 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:52:04,499 p=12901 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:52:04,499 p=12901 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:52:04,658 p=12901 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:52:04,671 p=12901 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:52:04,686 p=12901 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:52:04,691 p=12901 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:52:04,705 p=12901 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:52:04,710 p=12901 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:52:04,726 p=12901 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:52:04,731 p=12901 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:52:06,393 p=12901 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ubuntu@161.20.1.124: Permission denied (publickey).", "unreachable": true}
2023-03-06 15:52:06,395 p=12901 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:52:06,396 p=12901 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 15:57:21,769 p=12933 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 15:57:21,769 p=12933 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 15:57:21,770 p=12933 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 15:57:21,770 p=12933 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 15:57:21,928 p=12933 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 15:57:21,941 p=12933 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:57:21,956 p=12933 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:57:21,960 p=12933 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:57:21,973 p=12933 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:57:21,978 p=12933 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 15:57:21,993 p=12933 u=ubuntu n=ansible | ok: [master]
2023-03-06 15:57:21,998 p=12933 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 15:57:23,681 p=12933 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ubuntu@161.20.1.124: Permission denied (publickey).", "unreachable": true}
2023-03-06 15:57:23,682 p=12933 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 15:57:23,682 p=12933 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:05:18,928 p=12988 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with yaml plugin: YAML inventory has invalid structure, it should be a dictionary, got: <class
'ansible.parsing.yaml.objects.AnsibleUnicode'>

2023-03-06 16:05:18,928 p=12988 u=ubuntu n=ansible | [WARNING]:  * Failed to parse /home/ubuntu/k8s-automation/inventory with ini plugin: /home/ubuntu/k8s-automation/inventory:20: Section [cluster:children] includes undefined group: master

2023-03-06 16:05:18,929 p=12988 u=ubuntu n=ansible | [WARNING]: Unable to parse /home/ubuntu/k8s-automation/inventory as an inventory source

2023-03-06 16:05:18,929 p=12988 u=ubuntu n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2023-03-06 16:05:19,115 p=12988 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 16:05:19,128 p=12988 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 16:05:19,141 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:19,147 p=12988 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 16:05:21,065 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:21,072 p=12988 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 16:05:21,105 p=12988 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 16:05:21,110 p=12988 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 16:05:22,404 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:22,411 p=12988 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 16:05:23,409 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:23,416 p=12988 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 16:05:24,449 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:24,455 p=12988 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 16:05:25,498 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:25,504 p=12988 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 16:05:32,210 p=12988 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:05:32,218 p=12988 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 16:05:32,254 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:32,260 p=12988 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 16:05:32,994 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:33,005 p=12988 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 16:05:33,012 p=12988 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 16:05:33,025 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:33,030 p=12988 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 16:05:33,043 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:33,048 p=12988 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 16:05:34,511 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:34,518 p=12988 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 16:05:35,684 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:35,690 p=12988 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:05:36,946 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:36,952 p=12988 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:05:38,144 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:38,151 p=12988 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 16:05:39,126 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:39,133 p=12988 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 16:05:39,165 p=12988 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 16:05:39,170 p=12988 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 16:05:40,368 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:40,375 p=12988 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:05:41,393 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:41,399 p=12988 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:05:42,433 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:42,438 p=12988 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 16:05:42,814 p=12988 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:05:42,820 p=12988 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 16:05:43,062 p=12988 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:05:43,070 p=12988 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:05:43,071 p=12988 u=ubuntu n=ansible | localhost                  : ok=22   changed=2    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 16:09:55,045 p=13526 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 16:09:55,057 p=13526 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 16:09:55,073 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:09:55,078 p=13526 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 16:09:56,824 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:09:56,830 p=13526 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 16:09:56,863 p=13526 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 16:09:56,869 p=13526 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 16:09:58,019 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:09:58,025 p=13526 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 16:09:59,021 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:09:59,027 p=13526 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 16:10:00,051 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:00,057 p=13526 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 16:10:01,133 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:01,140 p=13526 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 16:10:08,946 p=13526 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:10:08,954 p=13526 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 16:10:08,991 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:08,997 p=13526 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 16:10:09,743 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:09,753 p=13526 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 16:10:09,759 p=13526 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 16:10:09,772 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:09,778 p=13526 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 16:10:09,792 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:09,797 p=13526 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 16:10:11,274 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:11,282 p=13526 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 16:10:12,473 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:12,480 p=13526 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:10:13,710 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:13,717 p=13526 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:10:14,937 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:14,944 p=13526 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 16:10:15,969 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:15,976 p=13526 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 16:10:16,007 p=13526 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 16:10:16,013 p=13526 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 16:10:17,236 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:17,243 p=13526 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:10:18,283 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:18,289 p=13526 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:10:19,350 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:19,356 p=13526 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 16:10:19,738 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:19,744 p=13526 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 16:10:19,988 p=13526 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:10:19,997 p=13526 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:10:19,997 p=13526 u=ubuntu n=ansible | localhost                  : ok=22   changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 16:11:56,224 p=14059 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:11:56,237 p=14059 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:11:56,252 p=14059 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:11:56,258 p=14059 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:11:56,270 p=14059 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:11:56,275 p=14059 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:11:56,290 p=14059 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:11:56,295 p=14059 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:11:57,828 p=14059 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:11:57,838 p=14059 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:11:57,838 p=14059 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:12:49,904 p=14086 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:12:49,917 p=14086 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:12:49,959 p=14086 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:12:49,961 p=14086 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:12:49,965 p=14086 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:12:49,970 p=14086 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:12:50,013 p=14086 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:12:50,016 p=14086 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:12:50,024 p=14086 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:12:50,027 p=14086 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:12:50,066 p=14086 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:12:50,069 p=14086 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:12:50,074 p=14086 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:12:50,080 p=14086 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:12:50,882 p=14086 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:13:36,190 p=14086 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.121 port 22: Connection timed out", "unreachable": true}
2023-03-06 16:13:36,198 p=14086 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.173 port 22: Connection timed out", "unreachable": true}
2023-03-06 16:13:36,206 p=14086 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:13:36,206 p=14086 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:13:36,206 p=14086 u=ubuntu n=ansible | worker1                    : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:13:36,206 p=14086 u=ubuntu n=ansible | worker2                    : ok=3    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:14:23,462 p=14131 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:14:23,475 p=14131 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:14:23,517 p=14131 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:14:23,519 p=14131 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:14:23,524 p=14131 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:14:23,529 p=14131 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:14:23,570 p=14131 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:14:23,571 p=14131 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:14:23,580 p=14131 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:14:23,583 p=14131 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:14:23,622 p=14131 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:14:23,624 p=14131 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:14:23,628 p=14131 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:14:23,633 p=14131 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:14:25,145 p=14131 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:14:25,747 p=14131 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:15:01,839 p=14131 u=ubuntu n=ansible |  [ERROR]: User interrupted execution

2023-03-06 16:16:47,414 p=14203 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 16:16:47,426 p=14203 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 16:16:47,442 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:47,447 p=14203 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 16:16:49,133 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:49,140 p=14203 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 16:16:49,173 p=14203 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 16:16:49,178 p=14203 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 16:16:50,331 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:50,337 p=14203 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 16:16:51,335 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:51,341 p=14203 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 16:16:52,343 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:52,349 p=14203 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 16:16:53,432 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:53,439 p=14203 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 16:16:54,966 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:54,974 p=14203 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 16:16:55,011 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:55,016 p=14203 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 16:16:55,757 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:55,767 p=14203 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 16:16:55,774 p=14203 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 16:16:55,787 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:55,792 p=14203 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 16:16:55,805 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:55,809 p=14203 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 16:16:57,380 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:57,387 p=14203 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 16:16:58,569 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:58,576 p=14203 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:16:59,755 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:16:59,762 p=14203 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:17:00,951 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:00,957 p=14203 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 16:17:01,989 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:01,995 p=14203 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 16:17:02,027 p=14203 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 16:17:02,033 p=14203 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 16:17:03,272 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:03,278 p=14203 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:17:04,373 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:04,379 p=14203 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:17:05,417 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:05,423 p=14203 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 16:17:05,799 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:05,805 p=14203 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 16:17:06,048 p=14203 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:17:06,057 p=14203 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:17:06,057 p=14203 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 16:17:15,850 p=14730 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:17:15,863 p=14730 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:17:15,904 p=14730 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:17:15,907 p=14730 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:17:15,912 p=14730 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:17:15,916 p=14730 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:17:15,954 p=14730 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:17:15,957 p=14730 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:17:15,965 p=14730 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:17:15,970 p=14730 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:17:16,006 p=14730 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:17:16,010 p=14730 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:17:16,017 p=14730 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:17:16,023 p=14730 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:17:17,551 p=14730 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:17:17,554 p=14730 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:17:54,968 p=14730 u=ubuntu n=ansible |  [ERROR]: User interrupted execution

2023-03-06 16:19:25,368 p=14800 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 16:19:25,381 p=14800 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 16:19:25,396 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:25,401 p=14800 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 16:19:27,245 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:27,250 p=14800 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 16:19:27,283 p=14800 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 16:19:27,289 p=14800 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 16:19:28,446 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:28,453 p=14800 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 16:19:29,444 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:29,450 p=14800 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 16:19:30,428 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:30,435 p=14800 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 16:19:31,507 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:31,514 p=14800 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 16:19:33,035 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:33,042 p=14800 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 16:19:33,079 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:33,085 p=14800 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 16:19:33,832 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:33,843 p=14800 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 16:19:33,850 p=14800 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 16:19:33,864 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:33,869 p=14800 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 16:19:33,883 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:33,888 p=14800 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 16:19:35,371 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:35,378 p=14800 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 16:19:36,582 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:36,588 p=14800 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:19:37,962 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:37,968 p=14800 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:19:39,146 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:39,153 p=14800 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 16:19:40,164 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:40,171 p=14800 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 16:19:40,203 p=14800 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 16:19:40,208 p=14800 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 16:19:41,452 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:19:41,459 p=14800 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:19:59,421 p=14800 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:19:59,427 p=14800 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:20:00,551 p=14800 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:20:00,557 p=14800 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 16:20:00,940 p=14800 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:20:00,946 p=14800 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 16:20:01,192 p=14800 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:20:01,201 p=14800 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:20:01,201 p=14800 u=ubuntu n=ansible | localhost                  : ok=22   changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 16:20:38,540 p=15327 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:20:38,554 p=15327 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:20:38,595 p=15327 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:20:38,597 p=15327 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:20:38,601 p=15327 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:20:38,606 p=15327 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:20:38,649 p=15327 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:20:38,652 p=15327 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:20:38,658 p=15327 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:20:38,663 p=15327 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:20:38,701 p=15327 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:20:38,702 p=15327 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:20:38,708 p=15327 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:20:38,714 p=15327 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:20:40,264 p=15327 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:20:40,282 p=15327 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:20:40,388 p=15327 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:20:40,397 p=15327 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:20:40,398 p=15327 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:20:40,398 p=15327 u=ubuntu n=ansible | worker1                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:20:40,398 p=15327 u=ubuntu n=ansible | worker2                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:23:56,303 p=15402 u=ubuntu n=ansible | ERROR! the playbook: master-node.yaml could not be found
2023-03-06 16:24:20,934 p=15405 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, resgister

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:25:29,039 p=15413 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, resgister

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:26:03,818 p=15418 u=ubuntu n=ansible | ERROR! conflicting action statements: debug, var

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 19, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - debug:
    ^ here

2023-03-06 16:26:27,164 p=15424 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:26:27,177 p=15424 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:26:27,218 p=15424 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:26:27,220 p=15424 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:26:27,227 p=15424 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:26:27,230 p=15424 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:26:27,270 p=15424 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:26:27,274 p=15424 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:26:27,280 p=15424 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:26:27,284 p=15424 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:26:27,322 p=15424 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:26:27,324 p=15424 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:26:27,329 p=15424 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:26:27,334 p=15424 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:26:28,920 p=15424 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:26:28,922 p=15424 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:26:28,926 p=15424 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:26:28,932 p=15424 u=ubuntu n=ansible | TASK [debug] ***************************************************************************************************************************************************************************************
2023-03-06 16:26:29,020 p=15424 u=ubuntu n=ansible | ok: [master] => {
    "swapout": {
        "ansible_facts": {
            "discovered_interpreter_python": "/usr/bin/python3"
        },
        "changed": true,
        "cmd": "swapoff -a",
        "delta": "0:00:00.003756",
        "end": "2023-03-06 16:26:28.836997",
        "failed": false,
        "rc": 0,
        "start": "2023-03-06 16:26:28.833241",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2023-03-06 16:26:29,036 p=15424 u=ubuntu n=ansible | ok: [worker1] => {
    "swapout": {
        "ansible_facts": {
            "discovered_interpreter_python": "/usr/bin/python3"
        },
        "changed": true,
        "cmd": "swapoff -a",
        "delta": "0:00:00.003731",
        "end": "2023-03-06 16:26:28.845837",
        "failed": false,
        "rc": 0,
        "start": "2023-03-06 16:26:28.842106",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2023-03-06 16:26:29,044 p=15424 u=ubuntu n=ansible | ok: [worker2] => {
    "swapout": {
        "ansible_facts": {
            "discovered_interpreter_python": "/usr/bin/python3"
        },
        "changed": true,
        "cmd": "swapoff -a",
        "delta": "0:00:00.003561",
        "end": "2023-03-06 16:26:28.837648",
        "failed": false,
        "rc": 0,
        "start": "2023-03-06 16:26:28.834087",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2023-03-06 16:26:29,054 p=15424 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:26:29,054 p=15424 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:26:29,054 p=15424 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:26:29,055 p=15424 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:27:21,597 p=15499 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:27:21,610 p=15499 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:27:21,652 p=15499 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:27:21,655 p=15499 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:27:21,658 p=15499 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:27:21,663 p=15499 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:27:21,702 p=15499 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:27:21,708 p=15499 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:27:21,713 p=15499 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:27:21,718 p=15499 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:27:21,754 p=15499 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:27:21,760 p=15499 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:27:21,765 p=15499 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:27:21,769 p=15499 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:27:21,848 p=15499 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The conditional check 'swapout.changed' failed. The error was: error while evaluating conditional (swapout.changed): 'swapout' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: disable swapp\n    ^ here\n"}
2023-03-06 16:27:21,864 p=15499 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The conditional check 'swapout.changed' failed. The error was: error while evaluating conditional (swapout.changed): 'swapout' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: disable swapp\n    ^ here\n"}
2023-03-06 16:27:21,872 p=15499 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The conditional check 'swapout.changed' failed. The error was: error while evaluating conditional (swapout.changed): 'swapout' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: disable swapp\n    ^ here\n"}
2023-03-06 16:27:21,874 p=15499 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:27:21,875 p=15499 u=ubuntu n=ansible | master                     : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 16:27:21,875 p=15499 u=ubuntu n=ansible | worker1                    : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 16:27:21,875 p=15499 u=ubuntu n=ansible | worker2                    : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 16:33:26,970 p=15538 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, creates

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:35:20,900 p=15549 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, creates

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:35:55,644 p=15563 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, creates

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:36:28,290 p=15569 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:36:28,303 p=15569 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:36:28,345 p=15569 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:36:28,348 p=15569 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:36:28,352 p=15569 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:36:28,356 p=15569 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:36:28,397 p=15569 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:36:28,399 p=15569 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:36:28,405 p=15569 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:36:28,410 p=15569 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:36:28,442 p=15569 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:36:28,449 p=15569 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:36:28,455 p=15569 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:36:28,459 p=15569 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:36:30,054 p=15569 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:36:30,063 p=15569 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:36:30,068 p=15569 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:36:30,076 p=15569 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:36:30,077 p=15569 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:36:30,077 p=15569 u=ubuntu n=ansible | worker1                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:36:30,077 p=15569 u=ubuntu n=ansible | worker2                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:37:36,398 p=15638 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, creates

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:38:08,144 p=15640 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 16:38:08,157 p=15640 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 16:38:08,172 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:08,177 p=15640 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 16:38:09,949 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:09,954 p=15640 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 16:38:09,987 p=15640 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 16:38:09,992 p=15640 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 16:38:11,144 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:11,151 p=15640 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 16:38:12,149 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:12,156 p=15640 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 16:38:13,130 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:13,137 p=15640 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 16:38:14,215 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:14,223 p=15640 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 16:38:15,725 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:15,733 p=15640 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 16:38:15,770 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:15,776 p=15640 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 16:38:16,517 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:16,528 p=15640 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 16:38:16,534 p=15640 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 16:38:16,547 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:16,552 p=15640 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 16:38:16,564 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:16,570 p=15640 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 16:38:18,113 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:18,120 p=15640 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 16:38:19,685 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:19,692 p=15640 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:38:20,887 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:20,893 p=15640 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 16:38:22,073 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:22,080 p=15640 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 16:38:23,071 p=15640 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 16:38:23,078 p=15640 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 16:38:23,109 p=15640 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 16:38:23,115 p=15640 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 16:38:51,351 p=15640 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:38:51,358 p=15640 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:39:09,318 p=15640 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:39:09,324 p=15640 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 16:39:27,232 p=15640 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:39:27,238 p=15640 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 16:39:27,620 p=15640 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:39:27,626 p=15640 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 16:39:27,875 p=15640 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 16:39:27,884 p=15640 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:39:27,884 p=15640 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 16:40:12,768 p=16168 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, creates

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 15, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: disable swapp
    ^ here

2023-03-06 16:40:37,684 p=16174 u=ubuntu n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 17, column 13, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    shell: swapoff -a
     creates: swap.txt
            ^ here

2023-03-06 16:42:21,224 p=16181 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:42:21,238 p=16181 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:21,280 p=16181 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:21,282 p=16181 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:21,287 p=16181 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:21,292 p=16181 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:21,335 p=16181 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:21,338 p=16181 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:21,344 p=16181 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:21,348 p=16181 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:21,386 p=16181 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:21,388 p=16181 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:21,396 p=16181 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:21,400 p=16181 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:42:23,285 p=16181 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:42:23,288 p=16181 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:42:23,657 p=16181 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:42:23,666 p=16181 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:42:23,667 p=16181 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:23,667 p=16181 u=ubuntu n=ansible | worker1                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:23,667 p=16181 u=ubuntu n=ansible | worker2                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:31,586 p=16245 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:42:31,599 p=16245 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:31,641 p=16245 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:31,644 p=16245 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:31,648 p=16245 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:31,652 p=16245 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:31,695 p=16245 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:31,697 p=16245 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:31,703 p=16245 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:31,707 p=16245 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:31,746 p=16245 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:31,749 p=16245 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:31,754 p=16245 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:31,759 p=16245 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:42:32,649 p=16245 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:42:32,662 p=16245 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:42:32,662 p=16245 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:42:32,673 p=16245 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:42:32,673 p=16245 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:32,673 p=16245 u=ubuntu n=ansible | worker1                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:32,674 p=16245 u=ubuntu n=ansible | worker2                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:49,972 p=16300 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:42:49,985 p=16300 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:50,029 p=16300 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:50,030 p=16300 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:50,033 p=16300 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:50,038 p=16300 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:50,081 p=16300 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:50,088 p=16300 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:50,092 p=16300 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:50,095 p=16300 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:42:50,134 p=16300 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:42:50,138 p=16300 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:42:50,143 p=16300 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:42:50,147 p=16300 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:42:51,026 p=16300 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:42:51,051 p=16300 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:42:51,052 p=16300 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:42:51,063 p=16300 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:42:51,063 p=16300 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:51,063 p=16300 u=ubuntu n=ansible | worker1                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:42:51,063 p=16300 u=ubuntu n=ansible | worker2                    : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:50:55,171 p=16370 u=ubuntu n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  did not find expected '-' indicator

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 22, column 2, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


 handler:
 ^ here

2023-03-06 16:51:50,765 p=16377 u=ubuntu n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 24, column 10, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: create txt file
     file:
         ^ here

2023-03-06 16:55:30,434 p=16386 u=ubuntu n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 24, column 10, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: create txt file
     file:
         ^ here

2023-03-06 16:57:24,756 p=16395 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:57:24,769 p=16395 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:57:24,808 p=16395 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:57:24,810 p=16395 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:57:24,815 p=16395 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:57:24,820 p=16395 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:57:24,854 p=16395 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:57:24,860 p=16395 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:57:24,865 p=16395 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:57:24,869 p=16395 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:57:24,902 p=16395 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:57:24,908 p=16395 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:57:24,914 p=16395 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:57:24,919 p=16395 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:57:26,514 p=16395 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:57:26,516 p=16395 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:57:26,520 p=16395 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:57:26,525 p=16395 u=ubuntu n=ansible | RUNNING HANDLER [create txt file] ******************************************************************************************************************************************************************
2023-03-06 16:57:27,314 p=16395 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:57:27,317 p=16395 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:57:27,317 p=16395 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:57:27,326 p=16395 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:57:27,326 p=16395 u=ubuntu n=ansible | master                     : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:57:27,327 p=16395 u=ubuntu n=ansible | worker1                    : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:57:27,327 p=16395 u=ubuntu n=ansible | worker2                    : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:57:37,712 p=16487 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 16:57:37,725 p=16487 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:57:37,766 p=16487 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:57:37,769 p=16487 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:57:37,775 p=16487 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:57:37,779 p=16487 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:57:37,814 p=16487 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:57:37,820 p=16487 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:57:37,825 p=16487 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:57:37,829 p=16487 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 16:57:37,866 p=16487 u=ubuntu n=ansible | ok: [master]
2023-03-06 16:57:37,869 p=16487 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 16:57:37,876 p=16487 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 16:57:37,882 p=16487 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 16:57:38,762 p=16487 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:57:38,785 p=16487 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:57:38,785 p=16487 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:57:38,793 p=16487 u=ubuntu n=ansible | RUNNING HANDLER [create txt file] ******************************************************************************************************************************************************************
2023-03-06 16:57:39,560 p=16487 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 16:57:39,562 p=16487 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 16:57:39,566 p=16487 u=ubuntu n=ansible | changed: [master]
2023-03-06 16:57:39,572 p=16487 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 16:57:39,573 p=16487 u=ubuntu n=ansible | master                     : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:57:39,573 p=16487 u=ubuntu n=ansible | worker1                    : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 16:57:39,573 p=16487 u=ubuntu n=ansible | worker2                    : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 17:11:08,393 p=16604 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 17:11:08,405 p=16604 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 17:11:08,448 p=16604 u=ubuntu n=ansible | ok: [master]
2023-03-06 17:11:08,452 p=16604 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 17:11:08,458 p=16604 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 17:11:08,462 p=16604 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 17:11:08,537 p=16604 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:11:08,553 p=16604 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:11:08,561 p=16604 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:11:08,562 p=16604 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 17:11:08,562 p=16604 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:11:08,563 p=16604 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:11:08,563 p=16604 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:16:10,421 p=16656 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 17:16:10,433 p=16656 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 17:16:10,477 p=16656 u=ubuntu n=ansible | ok: [master]
2023-03-06 17:16:10,480 p=16656 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 17:16:10,486 p=16656 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 17:16:10,490 p=16656 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 17:16:10,570 p=16656 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:16:10,585 p=16656 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:16:10,591 p=16656 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:16:10,593 p=16656 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 17:16:10,593 p=16656 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:16:10,593 p=16656 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:16:10,594 p=16656 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:19:10,917 p=16681 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 17:19:10,930 p=16681 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 17:19:10,976 p=16681 u=ubuntu n=ansible | ok: [master]
2023-03-06 17:19:10,981 p=16681 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 17:19:10,984 p=16681 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 17:19:10,989 p=16681 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 17:19:11,067 p=16681 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:19:11,084 p=16681 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:19:11,091 p=16681 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:19:11,093 p=16681 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 17:19:11,093 p=16681 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:19:11,094 p=16681 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:19:11,094 p=16681 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:36:12,902 p=16745 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 17:36:12,915 p=16745 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 17:36:12,929 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:12,934 p=16745 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 17:36:12,946 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:12,951 p=16745 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 17:36:14,572 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:14,579 p=16745 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 17:36:15,770 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:15,776 p=16745 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 17:36:17,002 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:17,008 p=16745 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 17:36:18,199 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:18,206 p=16745 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 17:36:19,199 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:19,206 p=16745 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 17:36:19,236 p=16745 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 17:36:19,242 p=16745 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 17:36:20,454 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:20,461 p=16745 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 17:36:21,480 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:21,486 p=16745 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 17:36:22,484 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:22,490 p=16745 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 17:36:22,865 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:22,871 p=16745 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 17:36:23,117 p=16745 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:23,125 p=16745 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 17:36:23,126 p=16745 u=ubuntu n=ansible | localhost                  : ok=12   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 17:36:45,199 p=17055 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 17:36:45,213 p=17055 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 17:36:45,227 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:45,232 p=17055 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 17:36:45,244 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:45,249 p=17055 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 17:36:46,641 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:46,649 p=17055 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 17:36:47,840 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:47,846 p=17055 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 17:36:49,013 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:49,020 p=17055 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 17:36:50,200 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:50,206 p=17055 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 17:36:51,202 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:51,210 p=17055 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 17:36:51,240 p=17055 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 17:36:51,245 p=17055 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 17:36:52,379 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:52,386 p=17055 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 17:36:53,355 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:53,361 p=17055 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 17:36:54,336 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:54,342 p=17055 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 17:36:54,723 p=17055 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 17:36:54,729 p=17055 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 17:36:54,977 p=17055 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 17:36:54,986 p=17055 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 17:36:54,987 p=17055 u=ubuntu n=ansible | localhost                  : ok=12   changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 17:37:17,743 p=17359 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 17:37:17,755 p=17359 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 17:37:17,799 p=17359 u=ubuntu n=ansible | ok: [master]
2023-03-06 17:37:17,802 p=17359 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 17:37:17,807 p=17359 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 17:37:17,811 p=17359 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 17:37:17,893 p=17359 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:37:17,907 p=17359 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:37:17,913 p=17359 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 17:37:17,915 p=17359 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 17:37:17,916 p=17359 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:37:17,916 p=17359 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 17:37:17,916 p=17359 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:00:39,012 p=17912 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 18:00:39,032 p=17912 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 18:00:39,048 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:39,053 p=17912 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 18:00:39,066 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:39,071 p=17912 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 18:00:40,720 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:40,726 p=17912 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 18:00:42,859 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:42,865 p=17912 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 18:00:44,074 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:44,080 p=17912 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 18:00:45,233 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:45,239 p=17912 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 18:00:46,246 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:46,253 p=17912 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 18:00:46,283 p=17912 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 18:00:46,289 p=17912 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 18:00:47,520 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:47,527 p=17912 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 18:00:48,563 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:48,569 p=17912 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 18:00:49,590 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:49,596 p=17912 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 18:00:49,976 p=17912 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 18:00:49,982 p=17912 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 18:00:50,224 p=17912 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 18:00:50,233 p=17912 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:00:50,233 p=17912 u=ubuntu n=ansible | localhost                  : ok=12   changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 18:01:12,728 p=18213 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 18:01:12,740 p=18213 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 18:01:12,783 p=18213 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:01:12,785 p=18213 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:01:12,792 p=18213 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:01:12,796 p=18213 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 18:01:12,874 p=18213 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 18:01:12,887 p=18213 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 18:01:12,894 p=18213 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'master' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/set_host_names.yaml': line 8, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Update etc/host files on all nodes\n    ^ here\n"}
2023-03-06 18:01:12,895 p=18213 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:01:12,895 p=18213 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:01:12,896 p=18213 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:01:12,896 p=18213 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:02:11,664 p=18240 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 18:02:11,676 p=18240 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 18:02:11,721 p=18240 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:02:11,725 p=18240 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:02:11,731 p=18240 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:02:11,735 p=18240 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 18:02:13,412 p=18240 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:02:13,418 p=18240 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:02:13,421 p=18240 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:02:13,430 p=18240 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:02:13,430 p=18240 u=ubuntu n=ansible | master                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:02:13,430 p=18240 u=ubuntu n=ansible | worker1                    : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:02:13,431 p=18240 u=ubuntu n=ansible | worker2                    : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:02:30,755 p=18292 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 18:02:30,768 p=18292 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 18:02:30,811 p=18292 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:02:30,813 p=18292 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:02:30,822 p=18292 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:02:30,826 p=18292 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 18:02:31,763 p=18292 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:02:31,766 p=18292 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:02:31,780 p=18292 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:02:31,789 p=18292 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:02:31,789 p=18292 u=ubuntu n=ansible | master                     : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:02:31,789 p=18292 u=ubuntu n=ansible | worker1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:02:31,789 p=18292 u=ubuntu n=ansible | worker2                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:17:31,459 p=18392 u=ubuntu n=ansible | ERROR! the playbook: install.sh could not be found
2023-03-06 18:17:49,238 p=18393 u=ubuntu n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 27, column 13, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: Execute script file on remote host
      script: /home/ubuntu/cont.sh
            ^ here

2023-03-06 18:18:22,353 p=18399 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:18:22,366 p=18399 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:18:22,410 p=18399 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:18:22,417 p=18399 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:18:22,425 p=18399 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:18:22,428 p=18399 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:18:22,462 p=18399 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:18:22,469 p=18399 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:18:22,475 p=18399 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:18:22,479 p=18399 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:18:22,514 p=18399 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:18:22,520 p=18399 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:18:22,526 p=18399 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:18:22,532 p=18399 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:18:24,155 p=18399 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:18:24,164 p=18399 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:18:24,165 p=18399 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:18:24,172 p=18399 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:18:25,797 p=18399 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:18:25,799 p=18399 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:18:25,803 p=18399 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:18:25,811 p=18399 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:18:25,973 p=18399 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:18:25,983 p=18399 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:18:25,987 p=18399 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:18:25,989 p=18399 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:18:25,989 p=18399 u=ubuntu n=ansible | master                     : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:18:25,989 p=18399 u=ubuntu n=ansible | worker1                    : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:18:25,989 p=18399 u=ubuntu n=ansible | worker2                    : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:20:09,482 p=18536 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:20:09,495 p=18536 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:20:09,542 p=18536 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:20:09,548 p=18536 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:20:09,554 p=18536 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:20:09,559 p=18536 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:20:09,599 p=18536 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:20:09,601 p=18536 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:20:09,606 p=18536 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:20:09,611 p=18536 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:20:09,651 p=18536 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:20:09,654 p=18536 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:20:09,658 p=18536 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:20:09,663 p=18536 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:20:11,295 p=18536 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:20:11,297 p=18536 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:20:11,301 p=18536 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:20:11,306 p=18536 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:20:12,745 p=18536 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:20:12,750 p=18536 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:20:12,750 p=18536 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:20:12,758 p=18536 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:20:12,910 p=18536 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:20:12,923 p=18536 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:20:12,928 p=18536 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:20:12,930 p=18536 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:20:12,930 p=18536 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:20:12,930 p=18536 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:20:12,930 p=18536 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:26:30,652 p=18666 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:26:30,665 p=18666 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:26:30,713 p=18666 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:26:30,715 p=18666 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:26:30,722 p=18666 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:26:30,727 p=18666 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:26:30,764 p=18666 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:26:30,767 p=18666 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:26:30,773 p=18666 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:26:30,778 p=18666 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:26:30,814 p=18666 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:26:30,817 p=18666 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:26:30,824 p=18666 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:26:30,829 p=18666 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:26:32,466 p=18666 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:26:32,471 p=18666 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:26:32,474 p=18666 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:26:32,479 p=18666 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:26:33,912 p=18666 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:26:33,923 p=18666 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:26:33,924 p=18666 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:26:33,933 p=18666 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:26:34,098 p=18666 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: IndexError: list index out of range
2023-03-06 18:26:34,099 p=18666 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "Unexpected failure during module execution.", "stdout": ""}
2023-03-06 18:26:34,109 p=18666 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: IndexError: list index out of range
2023-03-06 18:26:34,109 p=18666 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "Unexpected failure during module execution.", "stdout": ""}
2023-03-06 18:26:34,112 p=18666 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: IndexError: list index out of range
2023-03-06 18:26:34,112 p=18666 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "Unexpected failure during module execution.", "stdout": ""}
2023-03-06 18:26:34,114 p=18666 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:26:34,114 p=18666 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:26:34,114 p=18666 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:26:34,114 p=18666 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:32:23,051 p=18812 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:32:23,064 p=18812 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:32:23,112 p=18812 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:32:23,114 p=18812 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:32:23,120 p=18812 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:32:23,125 p=18812 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:32:23,158 p=18812 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:32:23,162 p=18812 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:32:23,169 p=18812 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:32:23,173 p=18812 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:32:23,206 p=18812 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:32:23,213 p=18812 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:32:23,218 p=18812 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:32:23,223 p=18812 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:32:24,854 p=18812 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:32:24,857 p=18812 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:32:24,857 p=18812 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:32:24,865 p=18812 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:32:26,450 p=18812 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:32:26,451 p=18812 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:32:26,456 p=18812 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:32:26,463 p=18812 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:32:26,609 p=18812 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Could not find or access 'cont.sh'\nSearched in:\n\t/home/ubuntu/k8s-automation/files/cont.sh\n\t/home/ubuntu/k8s-automation/cont.sh\n\t/home/ubuntu/k8s-automation/files/cont.sh\n\t/home/ubuntu/k8s-automation/cont.sh on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:32:26,627 p=18812 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"changed": false, "msg": "Could not find or access 'cont.sh'\nSearched in:\n\t/home/ubuntu/k8s-automation/files/cont.sh\n\t/home/ubuntu/k8s-automation/cont.sh\n\t/home/ubuntu/k8s-automation/files/cont.sh\n\t/home/ubuntu/k8s-automation/cont.sh on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:32:26,631 p=18812 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"changed": false, "msg": "Could not find or access 'cont.sh'\nSearched in:\n\t/home/ubuntu/k8s-automation/files/cont.sh\n\t/home/ubuntu/k8s-automation/cont.sh\n\t/home/ubuntu/k8s-automation/files/cont.sh\n\t/home/ubuntu/k8s-automation/cont.sh on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:32:26,633 p=18812 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:32:26,633 p=18812 u=ubuntu n=ansible | master                     : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:32:26,633 p=18812 u=ubuntu n=ansible | worker1                    : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:32:26,634 p=18812 u=ubuntu n=ansible | worker2                    : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:33:30,134 p=18943 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:33:30,147 p=18943 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:33:30,195 p=18943 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:33:30,196 p=18943 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:33:30,204 p=18943 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:33:30,208 p=18943 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:33:30,242 p=18943 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:33:30,249 p=18943 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:33:30,254 p=18943 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:33:30,258 p=18943 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:33:30,294 p=18943 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:33:30,300 p=18943 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:33:30,305 p=18943 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:33:30,311 p=18943 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:33:31,834 p=18943 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:33:31,848 p=18943 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:33:31,851 p=18943 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:33:31,856 p=18943 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:33:33,253 p=18943 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:33:33,259 p=18943 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:33:33,260 p=18943 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:33:33,269 p=18943 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:33:33,415 p=18943 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:33:33,443 p=18943 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:33:33,446 p=18943 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:33:33,448 p=18943 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:33:33,448 p=18943 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:33:33,448 p=18943 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:33:33,449 p=18943 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:36:11,457 p=19069 u=ubuntu n=ansible | ERROR! conflicting action statements: script, remote_src

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 26, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: Execute script file on remote host
    ^ here

2023-03-06 18:38:18,728 p=19077 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:38:18,741 p=19077 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:38:18,786 p=19077 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:38:18,790 p=19077 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:38:18,796 p=19077 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:38:18,801 p=19077 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:38:18,839 p=19077 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:38:18,842 p=19077 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:38:18,848 p=19077 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:38:18,852 p=19077 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:38:18,886 p=19077 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:38:18,892 p=19077 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:38:18,899 p=19077 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:38:18,903 p=19077 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:38:20,525 p=19077 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:38:20,528 p=19077 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:38:20,531 p=19077 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:38:20,539 p=19077 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:38:21,909 p=19077 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:38:21,912 p=19077 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:38:21,915 p=19077 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:38:21,939 p=19077 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:38:21,963 p=19077 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "'cluster' is undefined"}
2023-03-06 18:38:21,984 p=19077 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "'cluster' is undefined"}
2023-03-06 18:38:21,995 p=19077 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "'cluster' is undefined"}
2023-03-06 18:38:21,997 p=19077 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:38:21,997 p=19077 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:38:21,997 p=19077 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:38:21,997 p=19077 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:39:02,748 p=19189 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:39:02,761 p=19189 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:39:02,809 p=19189 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:39:02,816 p=19189 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:39:02,820 p=19189 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:39:02,825 p=19189 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:39:02,862 p=19189 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:39:02,869 p=19189 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:39:02,874 p=19189 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:39:02,879 p=19189 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:39:02,917 p=19189 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:39:02,919 p=19189 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:39:02,930 p=19189 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:39:02,935 p=19189 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:39:03,868 p=19189 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:39:03,871 p=19189 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:39:03,874 p=19189 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:39:03,880 p=19189 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:39:05,257 p=19189 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:39:05,269 p=19189 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:39:05,272 p=19189 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:39:05,295 p=19189 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:39:07,036 p=19189 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ubuntu@161.20.1.186: Permission denied (publickey).", "unreachable": true}
2023-03-06 18:39:07,056 p=19189 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ubuntu@161.20.1.186: Permission denied (publickey).", "unreachable": true}
2023-03-06 18:39:07,079 p=19189 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ubuntu@161.20.1.186: Permission denied (publickey).", "unreachable": true}
2023-03-06 18:39:07,081 p=19189 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:39:07,082 p=19189 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:39:07,082 p=19189 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:39:07,082 p=19189 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:40:52,825 p=19304 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:40:52,838 p=19304 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:40:52,882 p=19304 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:40:52,889 p=19304 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:40:52,894 p=19304 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:40:52,898 p=19304 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:40:52,934 p=19304 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:40:52,936 p=19304 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:40:52,945 p=19304 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:40:52,948 p=19304 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:40:52,982 p=19304 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:40:52,988 p=19304 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:40:52,993 p=19304 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:40:52,998 p=19304 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:40:54,615 p=19304 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:40:54,618 p=19304 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:40:54,620 p=19304 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:40:54,627 p=19304 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:40:55,981 p=19304 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:40:55,989 p=19304 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:40:55,994 p=19304 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:40:56,018 p=19304 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:40:56,064 p=19304 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "'master' is undefined"}
2023-03-06 18:40:56,069 p=19304 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "'master' is undefined"}
2023-03-06 18:40:56,070 p=19304 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "'master' is undefined"}
2023-03-06 18:40:56,072 p=19304 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:40:56,072 p=19304 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:40:56,073 p=19304 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:40:56,073 p=19304 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:44:28,464 p=19422 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:44:28,477 p=19422 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:44:28,523 p=19422 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:44:28,528 p=19422 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:44:28,533 p=19422 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:44:28,538 p=19422 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:44:28,575 p=19422 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:44:28,578 p=19422 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:44:28,583 p=19422 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:44:28,588 p=19422 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:44:28,628 p=19422 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:44:28,629 p=19422 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:44:28,635 p=19422 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:44:28,640 p=19422 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:44:30,241 p=19422 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:44:30,266 p=19422 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:44:30,272 p=19422 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:44:30,277 p=19422 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:44:31,650 p=19422 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:44:31,654 p=19422 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:44:31,659 p=19422 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:44:31,664 p=19422 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:44:31,815 p=19422 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:44:31,831 p=19422 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:44:31,834 p=19422 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/cont.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:44:31,836 p=19422 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:44:31,836 p=19422 u=ubuntu n=ansible | master                     : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:44:31,837 p=19422 u=ubuntu n=ansible | worker1                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:44:31,837 p=19422 u=ubuntu n=ansible | worker2                    : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:47:50,451 p=19549 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:47:50,464 p=19549 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:47:50,515 p=19549 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:47:50,517 p=19549 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:47:50,520 p=19549 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:47:50,525 p=19549 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:47:50,562 p=19549 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:47:50,564 p=19549 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:47:50,572 p=19549 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:47:50,577 p=19549 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:47:50,609 p=19549 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:47:50,617 p=19549 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:47:50,622 p=19549 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:47:50,627 p=19549 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:47:52,261 p=19549 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:47:52,263 p=19549 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:47:52,267 p=19549 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:47:52,273 p=19549 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:47:53,643 p=19549 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:47:53,647 p=19549 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:47:53,651 p=19549 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:47:53,658 p=19549 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:48:07,824 p=19549 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:48:07,831 p=19549 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:48:07,834 p=19549 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:48:07,843 p=19549 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:48:07,843 p=19549 u=ubuntu n=ansible | master                     : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:48:07,843 p=19549 u=ubuntu n=ansible | worker1                    : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:48:07,843 p=19549 u=ubuntu n=ansible | worker2                    : ok=6    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:52:51,227 p=19707 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:52:51,240 p=19707 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:52:51,282 p=19707 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:52:51,291 p=19707 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:52:51,296 p=19707 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:52:51,301 p=19707 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:52:51,338 p=19707 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:52:51,340 p=19707 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:52:51,348 p=19707 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:52:51,352 p=19707 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:52:51,390 p=19707 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:52:51,393 p=19707 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:52:51,399 p=19707 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:52:51,403 p=19707 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:52:53,026 p=19707 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:52:53,031 p=19707 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:52:53,032 p=19707 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:52:53,040 p=19707 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:52:54,462 p=19707 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:52:54,463 p=19707 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:52:54,468 p=19707 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:52:54,475 p=19707 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:53:00,358 p=19707 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:53:04,343 p=19707 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:53:04,762 p=19707 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:53:04,768 p=19707 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:53:06,145 p=19707 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:53:06,147 p=19707 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:53:06,151 p=19707 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:53:06,157 p=19707 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:53:06,307 p=19707 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/kube.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:53:06,323 p=19707 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/kube.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:53:06,328 p=19707 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/kube.sh' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-03-06 18:53:06,330 p=19707 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:53:06,330 p=19707 u=ubuntu n=ansible | master                     : ok=7    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:53:06,330 p=19707 u=ubuntu n=ansible | worker1                    : ok=7    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:53:06,330 p=19707 u=ubuntu n=ansible | worker2                    : ok=7    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 18:55:34,110 p=19913 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:55:34,125 p=19913 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:55:34,173 p=19913 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:55:34,175 p=19913 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:55:34,182 p=19913 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:55:34,186 p=19913 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:55:34,222 p=19913 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:55:34,227 p=19913 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:55:34,233 p=19913 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:55:34,238 p=19913 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:55:34,274 p=19913 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:55:34,277 p=19913 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:55:34,284 p=19913 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:55:34,289 p=19913 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:55:35,874 p=19913 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:55:35,893 p=19913 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:55:35,898 p=19913 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:55:35,904 p=19913 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:55:37,282 p=19913 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:55:37,284 p=19913 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:55:37,289 p=19913 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:55:37,296 p=19913 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:55:42,884 p=19913 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:55:42,907 p=19913 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:55:47,208 p=19913 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:55:47,213 p=19913 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:55:48,216 p=19913 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:55:48,218 p=19913 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:55:48,230 p=19913 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:55:48,234 p=19913 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:56:12,776 p=19913 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:56:13,304 p=19913 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:56:16,092 p=19913 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:56:16,101 p=19913 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:56:16,102 p=19913 u=ubuntu n=ansible | master                     : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:56:16,102 p=19913 u=ubuntu n=ansible | worker1                    : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:56:16,102 p=19913 u=ubuntu n=ansible | worker2                    : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:56:25,485 p=20115 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:56:25,498 p=20115 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:56:25,542 p=20115 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:56:25,550 p=20115 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:56:25,554 p=20115 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:56:25,559 p=20115 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:56:25,596 p=20115 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:56:25,599 p=20115 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:56:25,606 p=20115 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:56:25,611 p=20115 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:56:25,650 p=20115 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:56:25,652 p=20115 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:56:25,657 p=20115 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:56:25,662 p=20115 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:56:26,549 p=20115 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:56:26,565 p=20115 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:56:26,568 p=20115 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:56:26,573 p=20115 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:56:27,957 p=20115 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:56:27,960 p=20115 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:56:27,962 p=20115 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:56:27,970 p=20115 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:56:34,966 p=20115 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:56:35,116 p=20115 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:56:36,007 p=20115 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:56:36,012 p=20115 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:56:37,001 p=20115 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:56:37,012 p=20115 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:56:37,042 p=20115 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:56:37,047 p=20115 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:56:41,916 p=20115 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:56:41,966 p=20115 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:56:42,133 p=20115 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:56:42,142 p=20115 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:56:42,142 p=20115 u=ubuntu n=ansible | master                     : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:56:42,142 p=20115 u=ubuntu n=ansible | worker1                    : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:56:42,143 p=20115 u=ubuntu n=ansible | worker2                    : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 18:58:23,023 p=20317 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:58:23,036 p=20317 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:58:23,084 p=20317 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:58:23,086 p=20317 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:58:23,092 p=20317 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:58:23,097 p=20317 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:58:23,135 p=20317 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:58:23,138 p=20317 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:58:23,143 p=20317 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:58:23,147 p=20317 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:58:23,184 p=20317 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:58:23,186 p=20317 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:58:23,192 p=20317 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:58:23,197 p=20317 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:58:24,812 p=20317 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 18:58:24,831 p=20317 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 18:58:24,835 p=20317 u=ubuntu n=ansible | changed: [master]
2023-03-06 18:58:24,841 p=20317 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:58:26,192 p=20317 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:58:26,195 p=20317 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:58:26,200 p=20317 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:58:26,206 p=20317 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:58:26,414 p=20317 u=ubuntu n=ansible | skipping: [master]
2023-03-06 18:58:26,422 p=20317 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 18:58:26,425 p=20317 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 18:58:26,430 p=20317 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:58:27,520 p=20317 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:58:27,522 p=20317 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:58:27,527 p=20317 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:58:27,532 p=20317 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:58:27,730 p=20317 u=ubuntu n=ansible | skipping: [master]
2023-03-06 18:58:27,741 p=20317 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 18:58:27,747 p=20317 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 18:58:27,756 p=20317 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:58:27,756 p=20317 u=ubuntu n=ansible | master                     : ok=6    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 18:58:27,756 p=20317 u=ubuntu n=ansible | worker1                    : ok=6    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 18:58:27,756 p=20317 u=ubuntu n=ansible | worker2                    : ok=6    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 18:59:05,096 p=20500 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 18:59:05,110 p=20500 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:59:05,156 p=20500 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:59:05,160 p=20500 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:59:05,167 p=20500 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:59:05,172 p=20500 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:59:05,210 p=20500 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:59:05,212 p=20500 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:59:05,220 p=20500 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:59:05,225 p=20500 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 18:59:05,263 p=20500 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:59:05,266 p=20500 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:59:05,272 p=20500 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:59:05,276 p=20500 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 18:59:06,153 p=20500 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:59:06,178 p=20500 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:59:06,181 p=20500 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:59:06,187 p=20500 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:59:07,571 p=20500 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:59:07,573 p=20500 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:59:07,580 p=20500 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:59:07,586 p=20500 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:59:07,788 p=20500 u=ubuntu n=ansible | skipping: [master]
2023-03-06 18:59:07,801 p=20500 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 18:59:07,806 p=20500 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 18:59:07,812 p=20500 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 18:59:08,812 p=20500 u=ubuntu n=ansible | ok: [master]
2023-03-06 18:59:08,841 p=20500 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 18:59:08,843 p=20500 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 18:59:08,849 p=20500 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 18:59:09,067 p=20500 u=ubuntu n=ansible | skipping: [master]
2023-03-06 18:59:09,074 p=20500 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 18:59:09,074 p=20500 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 18:59:09,084 p=20500 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 18:59:09,084 p=20500 u=ubuntu n=ansible | master                     : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 18:59:09,084 p=20500 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 18:59:09,085 p=20500 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:10:42,511 p=20690 u=ubuntu n=ansible | ERROR! conflicting action statements: command, wait

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 50, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  tasks:
  - name: Initialize Kubernetes cluster
    ^ here

2023-03-06 19:11:22,170 p=20696 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:11:22,183 p=20696 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:11:22,226 p=20696 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:11:22,234 p=20696 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:11:22,239 p=20696 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:11:22,244 p=20696 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:11:22,277 p=20696 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:11:22,284 p=20696 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:11:22,288 p=20696 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:11:22,292 p=20696 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:11:22,325 p=20696 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:11:22,331 p=20696 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:11:22,336 p=20696 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:11:22,341 p=20696 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:11:23,956 p=20696 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:11:23,977 p=20696 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:11:23,978 p=20696 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:11:23,985 p=20696 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:11:25,371 p=20696 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:11:25,379 p=20696 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:11:25,382 p=20696 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:11:25,389 p=20696 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:11:25,621 p=20696 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:11:25,623 p=20696 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:11:25,626 p=20696 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:11:25,631 p=20696 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:11:26,603 p=20696 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:11:26,690 p=20696 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:11:26,693 p=20696 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:11:26,698 p=20696 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:11:26,893 p=20696 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:11:26,908 p=20696 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:11:26,915 p=20696 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:11:26,924 p=20696 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:11:26,931 p=20696 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:12:11,897 p=20696 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:12:11,903 p=20696 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:12:11,933 p=20696 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'mastergrp' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 54, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: Copy kube config file to home directory\n    ^ here\n"}
2023-03-06 19:12:11,934 p=20696 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:12:11,934 p=20696 u=ubuntu n=ansible | master                     : ok=7    changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 19:12:11,934 p=20696 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:12:11,935 p=20696 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:14:16,295 p=20893 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:14:16,308 p=20893 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:14:16,356 p=20893 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:14:16,358 p=20893 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:14:16,366 p=20893 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:14:16,370 p=20893 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:14:16,406 p=20893 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:14:16,410 p=20893 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:14:16,418 p=20893 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:14:16,422 p=20893 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:14:16,460 p=20893 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:14:16,464 p=20893 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:14:16,470 p=20893 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:14:16,474 p=20893 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:14:18,105 p=20893 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:14:18,107 p=20893 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:14:18,111 p=20893 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:14:18,117 p=20893 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:14:19,557 p=20893 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:14:19,560 p=20893 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:14:19,563 p=20893 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:14:19,570 p=20893 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:14:19,762 p=20893 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:14:19,786 p=20893 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:14:19,789 p=20893 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:14:19,793 p=20893 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:14:20,795 p=20893 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:14:20,841 p=20893 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:14:20,845 p=20893 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:14:20,849 p=20893 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:14:21,046 p=20893 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:14:21,074 p=20893 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:14:21,074 p=20893 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:14:21,086 p=20893 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:14:21,093 p=20893 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:14:22,007 p=20893 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": ["kubeadm", "init"], "delta": "0:00:00.394383", "end": "2023-03-06 19:14:21.942660", "msg": "non-zero return code", "rc": 1, "start": "2023-03-06 19:14:21.548277", "stderr": "error execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR Port-6443]: Port 6443 is in use\n\t[ERROR Port-10259]: Port 10259 is in use\n\t[ERROR Port-10257]: Port 10257 is in use\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR Port-2379]: Port 2379 is in use\n\t[ERROR Port-2380]: Port 2380 is in use\n\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR Port-6443]: Port 6443 is in use", "\t[ERROR Port-10259]: Port 10259 is in use", "\t[ERROR Port-10257]: Port 10257 is in use", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR Port-2379]: Port 2379 is in use", "\t[ERROR Port-2380]: Port 2380 is in use", "\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[init] Using Kubernetes version: v1.26.2\n[preflight] Running pre-flight checks", "stdout_lines": ["[init] Using Kubernetes version: v1.26.2", "[preflight] Running pre-flight checks"]}
2023-03-06 19:14:22,009 p=20893 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:14:22,009 p=20893 u=ubuntu n=ansible | master                     : ok=6    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 19:14:22,009 p=20893 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:14:22,009 p=20893 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:16:38,695 p=21090 u=ubuntu n=ansible | ERROR! conflicting action statements: command, removes

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 50, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  tasks:
  - name: Initialize Kubernetes cluster
    ^ here

2023-03-06 19:17:12,036 p=21099 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:17:12,049 p=21099 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:17:12,095 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:12,100 p=21099 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:17:12,105 p=21099 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:17:12,109 p=21099 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:17:12,147 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:12,149 p=21099 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:17:12,155 p=21099 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:17:12,160 p=21099 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:17:12,198 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:12,201 p=21099 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:17:12,206 p=21099 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:17:12,212 p=21099 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:17:13,818 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:13,836 p=21099 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:17:13,837 p=21099 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:17:13,845 p=21099 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:17:15,219 p=21099 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:17:15,227 p=21099 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:17:15,230 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:15,237 p=21099 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:17:15,430 p=21099 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:17:15,461 p=21099 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:17:15,464 p=21099 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:17:15,468 p=21099 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:17:16,470 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:16,513 p=21099 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:17:16,517 p=21099 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:17:16,521 p=21099 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:17:16,716 p=21099 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:17:16,745 p=21099 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:17:16,747 p=21099 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:17:16,758 p=21099 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:17:16,765 p=21099 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:17:17,285 p=21099 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:17:17,290 p=21099 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:17:17,951 p=21099 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Destination directory /home/ubuntu/.kube does not exist"}
2023-03-06 19:17:17,952 p=21099 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:17:17,953 p=21099 u=ubuntu n=ansible | master                     : ok=7    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 19:17:17,953 p=21099 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:17:17,953 p=21099 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:20:06,045 p=21303 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:20:06,058 p=21303 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:20:06,098 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:06,100 p=21303 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:20:06,105 p=21303 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:20:06,110 p=21303 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:20:06,147 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:06,150 p=21303 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:20:06,156 p=21303 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:20:06,161 p=21303 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:20:06,198 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:06,200 p=21303 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:20:06,207 p=21303 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:20:06,212 p=21303 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:20:07,849 p=21303 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:20:07,854 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:07,857 p=21303 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:20:07,863 p=21303 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:20:09,235 p=21303 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:20:09,240 p=21303 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:20:09,244 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:09,252 p=21303 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:20:09,448 p=21303 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:20:09,468 p=21303 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:20:09,473 p=21303 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:20:09,478 p=21303 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:20:10,476 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:10,512 p=21303 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:20:10,516 p=21303 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:20:10,522 p=21303 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:20:10,720 p=21303 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:20:10,727 p=21303 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:20:10,737 p=21303 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:20:10,747 p=21303 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:20:10,755 p=21303 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:20:11,281 p=21303 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:20:11,287 p=21303 u=ubuntu n=ansible | TASK [create kube config file] *********************************************************************************************************************************************************************
2023-03-06 19:20:11,958 p=21303 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Error, could not touch target: [Errno 2] No such file or directory: b'/home/ubuntu/.kube/config'", "path": "/home/ubuntu/.kube/config"}
2023-03-06 19:20:11,959 p=21303 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:20:11,959 p=21303 u=ubuntu n=ansible | master                     : ok=7    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 19:20:11,960 p=21303 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:20:11,960 p=21303 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:24:06,582 p=21513 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:24:06,595 p=21513 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:24:06,638 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:06,646 p=21513 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:24:06,652 p=21513 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:24:06,657 p=21513 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:24:06,695 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:06,698 p=21513 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:24:06,705 p=21513 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:24:06,709 p=21513 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:24:06,747 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:06,750 p=21513 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:24:06,756 p=21513 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:24:06,761 p=21513 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:24:08,402 p=21513 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:24:08,407 p=21513 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:24:08,411 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:08,416 p=21513 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:24:09,831 p=21513 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:24:09,836 p=21513 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:24:09,840 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:09,846 p=21513 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:24:10,073 p=21513 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:24:10,075 p=21513 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:24:10,079 p=21513 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:24:10,083 p=21513 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:24:11,073 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:11,089 p=21513 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:24:11,095 p=21513 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:24:11,100 p=21513 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:24:11,312 p=21513 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:24:11,316 p=21513 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:24:11,319 p=21513 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:24:11,329 p=21513 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:24:11,336 p=21513 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:24:11,856 p=21513 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:24:11,861 p=21513 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:24:13,089 p=21513 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "checksum": "35a4fcc6ab089d789fecaeed428cc8392148766a", "msg": "Destination directory /home/ubuntu/.kube does not exist"}
2023-03-06 19:24:13,090 p=21513 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:24:13,091 p=21513 u=ubuntu n=ansible | master                     : ok=7    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 19:24:13,091 p=21513 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:24:13,091 p=21513 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:34:19,761 p=21734 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:34:19,775 p=21734 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:34:19,817 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:19,820 p=21734 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:34:19,825 p=21734 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:34:19,829 p=21734 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:34:19,869 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:19,871 p=21734 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:34:19,878 p=21734 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:34:19,882 p=21734 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:34:19,918 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:19,921 p=21734 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:34:19,930 p=21734 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:34:19,935 p=21734 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:34:21,574 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:21,599 p=21734 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:34:21,599 p=21734 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:34:21,603 p=21734 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:34:22,966 p=21734 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:34:22,970 p=21734 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:34:22,971 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:22,979 p=21734 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:34:23,177 p=21734 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:34:23,203 p=21734 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:34:23,207 p=21734 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:34:23,213 p=21734 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:34:24,204 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:24,220 p=21734 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:34:24,235 p=21734 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:34:24,240 p=21734 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:34:24,442 p=21734 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:34:24,455 p=21734 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:34:24,460 p=21734 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:34:24,470 p=21734 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:34:24,477 p=21734 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:34:24,991 p=21734 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:34:24,997 p=21734 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:34:25,663 p=21734 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:34:25,669 p=21734 u=ubuntu n=ansible | TASK [create a kube config file for the cluster] ***************************************************************************************************************************************************
2023-03-06 19:34:26,195 p=21734 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "file (/home/ubuntu/.kube/config) is absent, cannot continue", "path": "/home/ubuntu/.kube/config", "state": "absent"}
2023-03-06 19:34:26,196 p=21734 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:34:26,197 p=21734 u=ubuntu n=ansible | master                     : ok=8    changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 19:34:26,197 p=21734 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:34:26,197 p=21734 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:36:21,409 p=21949 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:36:21,423 p=21949 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:36:21,463 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:21,466 p=21949 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:36:21,471 p=21949 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:36:21,476 p=21949 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:36:21,510 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:21,516 p=21949 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:36:21,521 p=21949 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:36:21,526 p=21949 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:36:21,563 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:21,566 p=21949 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:36:21,572 p=21949 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:36:21,576 p=21949 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:36:23,247 p=21949 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:36:23,248 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:23,248 p=21949 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:36:23,252 p=21949 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:36:24,604 p=21949 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:36:24,611 p=21949 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:36:24,614 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:24,620 p=21949 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:36:24,819 p=21949 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:36:24,856 p=21949 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:36:24,858 p=21949 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:36:24,863 p=21949 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:36:25,835 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:25,896 p=21949 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:36:25,901 p=21949 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:36:25,906 p=21949 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:36:26,100 p=21949 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:36:26,123 p=21949 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:36:26,125 p=21949 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:36:26,136 p=21949 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:36:26,143 p=21949 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:36:26,666 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:26,671 p=21949 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:36:27,348 p=21949 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:36:27,354 p=21949 u=ubuntu n=ansible | TASK [create a kube config file for the cluster] ***************************************************************************************************************************************************
2023-03-06 19:36:27,889 p=21949 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:36:27,895 p=21949 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:36:29,140 p=21949 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:36:29,150 p=21949 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:36:29,151 p=21949 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:36:29,151 p=21949 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:36:29,151 p=21949 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:39:07,194 p=22178 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:39:07,207 p=22178 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:39:07,249 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:07,251 p=22178 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:39:07,256 p=22178 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:39:07,260 p=22178 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:39:07,298 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:07,300 p=22178 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:39:07,306 p=22178 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:39:07,311 p=22178 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:39:07,350 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:07,352 p=22178 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:39:07,358 p=22178 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:39:07,364 p=22178 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:39:08,954 p=22178 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:39:08,963 p=22178 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:39:08,974 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:08,979 p=22178 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:39:10,413 p=22178 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:39:10,416 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:10,419 p=22178 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:39:10,426 p=22178 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:39:10,627 p=22178 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:39:10,641 p=22178 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:39:10,641 p=22178 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:39:10,648 p=22178 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:39:11,634 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:11,663 p=22178 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:39:11,669 p=22178 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:39:11,675 p=22178 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:39:11,874 p=22178 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:39:11,892 p=22178 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:39:11,895 p=22178 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:39:11,904 p=22178 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:39:11,911 p=22178 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:39:12,438 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:12,443 p=22178 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:39:13,119 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:13,125 p=22178 u=ubuntu n=ansible | TASK [create a kube config file for the cluster] ***************************************************************************************************************************************************
2023-03-06 19:39:13,655 p=22178 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:39:13,660 p=22178 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:39:14,600 p=22178 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:39:14,608 p=22178 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:39:14,609 p=22178 u=ubuntu n=ansible | master                     : ok=10   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:39:14,609 p=22178 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:39:14,609 p=22178 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:43:05,539 p=22408 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:43:05,553 p=22408 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:43:05,595 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:05,597 p=22408 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:43:05,601 p=22408 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:43:05,606 p=22408 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:43:05,642 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:05,645 p=22408 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:43:05,652 p=22408 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:43:05,657 p=22408 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:43:05,694 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:05,697 p=22408 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:43:05,703 p=22408 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:43:05,708 p=22408 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:43:07,377 p=22408 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:43:07,379 p=22408 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:43:07,380 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:07,383 p=22408 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:43:08,688 p=22408 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:43:08,689 p=22408 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:43:08,695 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:08,699 p=22408 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:43:08,895 p=22408 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:43:08,912 p=22408 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:43:08,916 p=22408 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:43:08,921 p=22408 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:43:09,928 p=22408 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:43:09,953 p=22408 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:43:09,958 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:09,963 p=22408 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:43:10,160 p=22408 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:43:10,173 p=22408 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:43:10,179 p=22408 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:43:10,189 p=22408 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:43:10,196 p=22408 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:43:10,723 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:10,728 p=22408 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:43:11,395 p=22408 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:43:11,401 p=22408 u=ubuntu n=ansible | TASK [create a kube config file for the cluster] ***************************************************************************************************************************************************
2023-03-06 19:43:11,932 p=22408 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:43:11,937 p=22408 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:43:12,605 p=22408 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:43:12,614 p=22408 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:43:12,614 p=22408 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:43:12,614 p=22408 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:43:12,615 p=22408 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:48:38,475 p=22636 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:48:38,489 p=22636 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:48:38,531 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:38,533 p=22636 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:48:38,539 p=22636 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:48:38,543 p=22636 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:48:38,582 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:38,584 p=22636 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:48:38,589 p=22636 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:48:38,593 p=22636 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:48:38,628 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:38,630 p=22636 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:48:38,639 p=22636 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:48:38,644 p=22636 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:48:40,264 p=22636 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:48:40,269 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:40,271 p=22636 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:48:40,277 p=22636 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:48:41,677 p=22636 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:48:41,678 p=22636 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:48:41,685 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:41,691 p=22636 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:48:41,883 p=22636 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:48:41,912 p=22636 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:48:41,916 p=22636 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:48:41,921 p=22636 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:48:42,911 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:42,953 p=22636 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:48:42,956 p=22636 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:48:42,961 p=22636 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:48:43,158 p=22636 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:48:43,183 p=22636 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:48:43,185 p=22636 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:48:43,196 p=22636 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:48:43,204 p=22636 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:48:43,706 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:43,712 p=22636 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:48:44,367 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:44,373 p=22636 u=ubuntu n=ansible | TASK [create a kube config file for the cluster] ***************************************************************************************************************************************************
2023-03-06 19:48:44,890 p=22636 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:48:44,896 p=22636 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:48:45,554 p=22636 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:48:45,560 p=22636 u=ubuntu n=ansible | TASK [ste host name] *******************************************************************************************************************************************************************************
2023-03-06 19:48:46,237 p=22636 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 19:48:46,237 p=22636 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:48:46,246 p=22636 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:48:46,246 p=22636 u=ubuntu n=ansible | master                     : ok=11   changed=2    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:48:46,246 p=22636 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:48:46,247 p=22636 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:50:58,856 p=22868 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:50:58,869 p=22868 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:50:58,910 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:50:58,913 p=22868 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:50:58,921 p=22868 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:50:58,925 p=22868 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:50:58,963 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:50:58,966 p=22868 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:50:58,973 p=22868 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:50:58,979 p=22868 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:50:59,019 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:50:59,022 p=22868 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:50:59,026 p=22868 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:50:59,032 p=22868 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:51:00,662 p=22868 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:51:00,668 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:51:00,670 p=22868 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:51:00,676 p=22868 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:51:02,103 p=22868 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:51:02,106 p=22868 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:51:02,111 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:51:02,118 p=22868 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:51:02,320 p=22868 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:51:02,336 p=22868 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:51:02,341 p=22868 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:51:02,345 p=22868 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:51:03,366 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:51:03,384 p=22868 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:51:03,386 p=22868 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:51:03,393 p=22868 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:51:03,595 p=22868 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:51:03,618 p=22868 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:51:03,621 p=22868 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:51:03,632 p=22868 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:51:03,640 p=22868 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:51:04,164 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:51:04,170 p=22868 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:51:04,851 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:51:04,857 p=22868 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:51:05,550 p=22868 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:51:05,556 p=22868 u=ubuntu n=ansible | TASK [ste host name] *******************************************************************************************************************************************************************************
2023-03-06 19:51:06,258 p=22868 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 19:51:06,258 p=22868 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:51:06,267 p=22868 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:51:06,268 p=22868 u=ubuntu n=ansible | master                     : ok=10   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:51:06,268 p=22868 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:51:06,268 p=22868 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:53:46,766 p=23091 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:53:46,780 p=23091 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:53:46,819 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:46,822 p=23091 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:53:46,830 p=23091 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:53:46,835 p=23091 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:53:46,871 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:46,874 p=23091 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:53:46,881 p=23091 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:53:46,885 p=23091 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:53:46,922 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:46,925 p=23091 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:53:46,933 p=23091 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:53:46,938 p=23091 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:53:48,522 p=23091 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:53:48,542 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:48,543 p=23091 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:53:48,550 p=23091 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:53:49,937 p=23091 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:53:49,947 p=23091 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:53:49,947 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:49,956 p=23091 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:53:50,150 p=23091 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:53:50,167 p=23091 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:53:50,173 p=23091 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:53:50,178 p=23091 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:53:51,176 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:51,211 p=23091 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:53:51,216 p=23091 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:53:51,221 p=23091 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:53:51,421 p=23091 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:53:51,426 p=23091 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:53:51,431 p=23091 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:53:51,441 p=23091 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:53:51,449 p=23091 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:53:51,969 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:51,975 p=23091 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:53:52,654 p=23091 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:53:52,660 p=23091 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:53:53,334 p=23091 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:53:53,340 p=23091 u=ubuntu n=ansible | TASK [ste host name] *******************************************************************************************************************************************************************************
2023-03-06 19:53:54,032 p=23091 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 19:53:54,032 p=23091 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:53:54,041 p=23091 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:53:54,042 p=23091 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:53:54,042 p=23091 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:53:54,042 p=23091 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:57:58,750 p=23342 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 19:57:58,762 p=23342 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 19:57:58,778 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:57:58,783 p=23342 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 19:58:00,578 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:00,585 p=23342 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 19:58:00,617 p=23342 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 19:58:00,623 p=23342 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 19:58:01,825 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:01,832 p=23342 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 19:58:02,847 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:02,853 p=23342 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 19:58:03,867 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:03,874 p=23342 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 19:58:04,973 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:04,981 p=23342 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 19:58:06,558 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:06,566 p=23342 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 19:58:06,603 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:06,610 p=23342 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 19:58:07,368 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:07,379 p=23342 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 19:58:07,385 p=23342 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 19:58:07,399 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:07,404 p=23342 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 19:58:07,416 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:07,421 p=23342 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 19:58:08,938 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:08,946 p=23342 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 19:58:10,176 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:10,183 p=23342 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 19:58:11,375 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:11,382 p=23342 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 19:58:12,580 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:12,587 p=23342 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 19:58:13,598 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:13,606 p=23342 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 19:58:13,637 p=23342 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 19:58:13,643 p=23342 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 19:58:14,867 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:14,873 p=23342 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 19:58:15,925 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:15,931 p=23342 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 19:58:16,972 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:16,978 p=23342 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 19:58:17,350 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:17,356 p=23342 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 19:58:17,599 p=23342 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:58:17,609 p=23342 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 19:58:17,616 p=23342 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 19:58:17,654 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:17,658 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:17,665 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:17,670 p=23342 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 19:58:19,153 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:19,181 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:19,208 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:19,218 p=23342 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:58:19,225 p=23342 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:58:19,264 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:19,269 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:19,276 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:19,281 p=23342 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:58:19,322 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:19,328 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:19,333 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:19,338 p=23342 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 19:58:19,378 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:19,384 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:19,390 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:19,395 p=23342 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 19:58:20,152 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:20,153 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:20,162 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:20,167 p=23342 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:58:21,179 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:21,210 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:21,215 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:21,222 p=23342 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:58:21,426 p=23342 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:58:21,453 p=23342 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:58:21,453 p=23342 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:58:21,460 p=23342 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 19:58:22,449 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:22,455 p=23342 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 19:58:22,478 p=23342 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 19:58:22,484 p=23342 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 19:58:22,687 p=23342 u=ubuntu n=ansible | skipping: [master]
2023-03-06 19:58:22,712 p=23342 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 19:58:22,712 p=23342 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 19:58:22,724 p=23342 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 19:58:22,731 p=23342 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 19:58:23,271 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:23,277 p=23342 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 19:58:23,957 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:23,963 p=23342 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 19:58:24,639 p=23342 u=ubuntu n=ansible | ok: [master]
2023-03-06 19:58:24,645 p=23342 u=ubuntu n=ansible | TASK [ste host name] *******************************************************************************************************************************************************************************
2023-03-06 19:58:25,337 p=23342 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 19:58:25,337 p=23342 u=ubuntu n=ansible | changed: [master]
2023-03-06 19:58:25,346 p=23342 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 19:58:25,346 p=23342 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 19:58:25,347 p=23342 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:58:25,347 p=23342 u=ubuntu n=ansible | worker1                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:58:25,347 p=23342 u=ubuntu n=ansible | worker2                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 19:59:34,696 p=24114 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 19:59:34,709 p=24114 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 19:59:34,725 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:34,730 p=24114 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 19:59:36,516 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:36,523 p=24114 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 19:59:36,555 p=24114 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 19:59:36,561 p=24114 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 19:59:37,711 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:37,718 p=24114 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 19:59:38,699 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:38,705 p=24114 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 19:59:39,701 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:39,708 p=24114 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 19:59:40,770 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:40,776 p=24114 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 19:59:42,329 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:42,337 p=24114 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 19:59:42,374 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:42,381 p=24114 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 19:59:43,138 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:43,149 p=24114 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 19:59:43,156 p=24114 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 19:59:43,170 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:43,175 p=24114 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 19:59:43,189 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:43,194 p=24114 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 19:59:44,690 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:44,698 p=24114 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 19:59:45,877 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:45,883 p=24114 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 19:59:47,055 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:47,062 p=24114 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 19:59:48,251 p=24114 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 19:59:48,258 p=24114 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 19:59:49,577 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 19:59:49,585 p=24114 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 19:59:50,203 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 19:59:50,209 p=24114 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 20:00:33,629 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:00:33,636 p=24114 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:00:51,526 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:00:51,532 p=24114 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:01:09,540 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:01:09,546 p=24114 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 20:01:09,934 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:01:09,940 p=24114 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 20:01:10,193 p=24114 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:01:10,203 p=24114 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 20:01:10,211 p=24114 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 20:01:10,250 p=24114 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:01:10,257 p=24114 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:01:10,262 p=24114 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:01:10,268 p=24114 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 20:01:56,431 p=24114 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.186 port 22: Connection timed out", "unreachable": true}
2023-03-06 20:01:56,442 p=24114 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.223 port 22: Connection timed out", "unreachable": true}
2023-03-06 20:01:56,451 p=24114 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.243 port 22: Connection timed out", "unreachable": true}
2023-03-06 20:01:56,452 p=24114 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 20:01:56,452 p=24114 u=ubuntu n=ansible | localhost                  : ok=23   changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:01:56,452 p=24114 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:01:56,452 p=24114 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:01:56,453 p=24114 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:11:58,291 p=24731 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 20:11:58,303 p=24731 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 20:11:58,319 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:11:58,324 p=24731 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 20:12:00,030 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:00,038 p=24731 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 20:12:00,072 p=24731 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 20:12:00,078 p=24731 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 20:12:01,348 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:01,355 p=24731 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 20:12:02,372 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:02,378 p=24731 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 20:12:03,557 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:03,564 p=24731 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 20:12:04,639 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:04,646 p=24731 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 20:12:06,191 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:06,199 p=24731 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 20:12:06,236 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:06,242 p=24731 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 20:12:06,987 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:06,998 p=24731 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 20:12:07,005 p=24731 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 20:12:07,019 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:07,024 p=24731 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 20:12:07,037 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:07,043 p=24731 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 20:12:08,477 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:08,485 p=24731 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 20:12:09,678 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:09,685 p=24731 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:12:10,880 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:10,887 p=24731 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:12:12,106 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:12,113 p=24731 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 20:12:13,103 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:13,110 p=24731 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 20:12:13,141 p=24731 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 20:12:13,147 p=24731 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 20:12:14,345 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:14,352 p=24731 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:12:15,453 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:15,459 p=24731 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:12:16,480 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:16,486 p=24731 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 20:12:16,870 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:16,876 p=24731 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 20:12:17,124 p=24731 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:12:17,134 p=24731 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 20:12:17,141 p=24731 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 20:12:17,178 p=24731 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:12:17,185 p=24731 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:12:17,193 p=24731 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:12:17,197 p=24731 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 20:12:18,672 p=24731 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:12:18,954 p=24731 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:12:19,505 p=24731 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:12:19,515 p=24731 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 20:12:19,522 p=24731 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:12:19,563 p=24731 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:12:19,564 p=24731 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:12:19,573 p=24731 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:12:19,577 p=24731 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:12:19,616 p=24731 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:12:19,621 p=24731 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:12:19,628 p=24731 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:12:19,633 p=24731 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:12:19,670 p=24731 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:12:19,674 p=24731 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:12:19,681 p=24731 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:12:19,686 p=24731 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 20:12:20,400 p=24731 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:12:20,417 p=24731 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:12:20,430 p=24731 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:12:20,436 p=24731 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 20:12:21,832 p=24731 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:12:21,834 p=24731 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:12:21,841 p=24731 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:12:21,847 p=24731 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 20:12:22,043 p=24731 u=ubuntu n=ansible | skipping: [master]
2023-03-06 20:12:22,057 p=24731 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 20:12:22,063 p=24731 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 20:12:22,068 p=24731 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 20:12:23,203 p=24731 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:12:23,205 p=24731 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:12:23,220 p=24731 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:12:23,226 p=24731 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 20:12:23,422 p=24731 u=ubuntu n=ansible | skipping: [master]
2023-03-06 20:12:23,432 p=24731 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 20:12:23,439 p=24731 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 20:12:23,448 p=24731 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 20:12:23,456 p=24731 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 20:12:23,967 p=24731 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:12:23,973 p=24731 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 20:12:24,645 p=24731 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:12:24,651 p=24731 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 20:12:25,173 p=24731 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Source /etc/kubernetes/admin.conf not found"}
2023-03-06 20:12:25,176 p=24731 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 20:12:25,176 p=24731 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 20:12:25,176 p=24731 u=ubuntu n=ansible | master                     : ok=10   changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 20:12:25,177 p=24731 u=ubuntu n=ansible | worker1                    : ok=8    changed=3    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 20:12:25,177 p=24731 u=ubuntu n=ansible | worker2                    : ok=8    changed=3    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 20:20:17,924 p=25634 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 20:20:17,936 p=25634 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 20:20:17,951 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:17,957 p=25634 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 20:20:19,703 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:19,709 p=25634 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 20:20:19,742 p=25634 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 20:20:19,747 p=25634 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 20:20:20,899 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:20,905 p=25634 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 20:20:21,904 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:21,910 p=25634 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 20:20:22,893 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:22,900 p=25634 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 20:20:23,988 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:23,995 p=25634 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 20:20:25,624 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:25,632 p=25634 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 20:20:25,670 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:25,676 p=25634 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 20:20:26,390 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:26,401 p=25634 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 20:20:26,408 p=25634 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 20:20:26,422 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:26,427 p=25634 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 20:20:26,439 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:26,444 p=25634 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 20:20:27,938 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:27,946 p=25634 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 20:20:29,147 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:29,153 p=25634 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:20:30,352 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:30,358 p=25634 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:20:31,548 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:31,555 p=25634 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 20:20:32,557 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:32,564 p=25634 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 20:20:32,596 p=25634 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 20:20:32,602 p=25634 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 20:20:33,859 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:33,866 p=25634 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:20:34,882 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:34,888 p=25634 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:20:35,915 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:35,921 p=25634 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 20:20:36,298 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:36,304 p=25634 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 20:20:36,550 p=25634 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:20:36,561 p=25634 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 20:20:36,568 p=25634 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 20:20:36,606 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:36,610 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:36,618 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:36,623 p=25634 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 20:20:38,017 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:38,037 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:38,106 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:38,116 p=25634 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 20:20:38,124 p=25634 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:20:38,162 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:38,168 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:38,176 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:38,181 p=25634 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:20:38,221 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:38,226 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:38,232 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:38,237 p=25634 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:20:38,276 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:38,283 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:38,288 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:38,293 p=25634 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 20:20:39,047 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:39,050 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:39,054 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:39,060 p=25634 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 20:20:40,094 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:40,097 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:40,331 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:40,338 p=25634 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 20:20:40,534 p=25634 u=ubuntu n=ansible | skipping: [master]
2023-03-06 20:20:40,549 p=25634 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 20:20:40,555 p=25634 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 20:20:40,560 p=25634 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 20:20:41,619 p=25634 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:20:41,624 p=25634 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:20:41,627 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:41,631 p=25634 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 20:20:41,826 p=25634 u=ubuntu n=ansible | skipping: [master]
2023-03-06 20:20:41,843 p=25634 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 20:20:41,848 p=25634 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 20:20:41,858 p=25634 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 20:20:41,865 p=25634 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 20:20:42,379 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:42,384 p=25634 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 20:20:43,056 p=25634 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:20:43,062 p=25634 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 20:20:43,724 p=25634 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Source /etc/kubernetes/admin.conf not found"}
2023-03-06 20:20:43,725 p=25634 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 20:20:43,725 p=25634 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 20:20:43,725 p=25634 u=ubuntu n=ansible | master                     : ok=10   changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 20:20:43,726 p=25634 u=ubuntu n=ansible | worker1                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 20:20:43,726 p=25634 u=ubuntu n=ansible | worker2                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 20:21:30,576 p=26396 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 20:21:30,589 p=26396 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 20:21:30,604 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:30,610 p=26396 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 20:21:32,385 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:32,391 p=26396 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 20:21:32,424 p=26396 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 20:21:32,429 p=26396 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 20:21:33,578 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:33,584 p=26396 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 20:21:34,588 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:34,594 p=26396 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 20:21:35,740 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:35,747 p=26396 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 20:21:36,817 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:36,822 p=26396 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 20:21:38,434 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:38,442 p=26396 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 20:21:38,479 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:38,484 p=26396 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 20:21:39,232 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:39,242 p=26396 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 20:21:39,249 p=26396 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 20:21:39,263 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:39,267 p=26396 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 20:21:39,280 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:39,285 p=26396 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 20:21:40,778 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:40,786 p=26396 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 20:21:41,971 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:41,977 p=26396 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:21:43,185 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:43,192 p=26396 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:21:44,608 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:44,615 p=26396 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 20:21:45,617 p=26396 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:21:45,622 p=26396 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 20:21:45,655 p=26396 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 20:21:45,660 p=26396 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 20:22:18,963 p=26396 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:22:18,971 p=26396 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:22:36,892 p=26396 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:22:36,898 p=26396 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:22:54,892 p=26396 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:22:54,898 p=26396 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 20:22:55,305 p=26396 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:22:55,310 p=26396 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 20:22:55,558 p=26396 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 20:22:55,568 p=26396 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 20:22:55,575 p=26396 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 20:22:55,614 p=26396 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:22:55,616 p=26396 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:22:55,624 p=26396 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:22:55,629 p=26396 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 20:23:41,786 p=26396 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.117 port 22: Connection timed out", "unreachable": true}
2023-03-06 20:23:41,797 p=26396 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.24 port 22: Connection timed out", "unreachable": true}
2023-03-06 20:23:41,806 p=26396 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.99 port 22: Connection timed out", "unreachable": true}
2023-03-06 20:23:41,807 p=26396 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 20:23:41,807 p=26396 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 20:23:41,808 p=26396 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:23:41,808 p=26396 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:23:41,808 p=26396 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 20:23:57,173 p=26945 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] *****************************************************************************************************************************************************************
2023-03-06 20:23:57,188 p=26945 u=ubuntu n=ansible | TASK [Importing Variables] *************************************************************************************************************************************************************************
2023-03-06 20:23:57,203 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:23:57,208 p=26945 u=ubuntu n=ansible | TASK [Create VPC] **********************************************************************************************************************************************************************************
2023-03-06 20:23:59,011 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:23:59,019 p=26945 u=ubuntu n=ansible | TASK [print output] ********************************************************************************************************************************************************************************
2023-03-06 20:23:59,052 p=26945 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 20:23:59,058 p=26945 u=ubuntu n=ansible | TASK [public subnet 1 creation] ********************************************************************************************************************************************************************
2023-03-06 20:24:00,231 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:00,238 p=26945 u=ubuntu n=ansible | TASK [public subnet 2  creation] *******************************************************************************************************************************************************************
2023-03-06 20:24:01,223 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:01,229 p=26945 u=ubuntu n=ansible | TASK [public subnet 3  creation] *******************************************************************************************************************************************************************
2023-03-06 20:24:02,282 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:02,288 p=26945 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] *****************************************************************************************************************************************************
2023-03-06 20:24:03,378 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:03,385 p=26945 u=ubuntu n=ansible | TASK [Creating a routing table] ********************************************************************************************************************************************************************
2023-03-06 20:24:04,907 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:04,915 p=26945 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] ***************************************************************************************************************************************************
2023-03-06 20:24:04,953 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:04,959 p=26945 u=ubuntu n=ansible | TASK [create a vraible file] ***********************************************************************************************************************************************************************
2023-03-06 20:24:05,676 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:05,687 p=26945 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ********************************************************************************************************************
2023-03-06 20:24:05,694 p=26945 u=ubuntu n=ansible | TASK [import variables] ****************************************************************************************************************************************************************************
2023-03-06 20:24:05,708 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:05,713 p=26945 u=ubuntu n=ansible | TASK [import variable] *****************************************************************************************************************************************************************************
2023-03-06 20:24:05,727 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:05,732 p=26945 u=ubuntu n=ansible | TASK [create security group for master node] *******************************************************************************************************************************************************
2023-03-06 20:24:07,363 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:07,370 p=26945 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ****************************************************************************************************************************************
2023-03-06 20:24:08,561 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:08,568 p=26945 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:24:09,773 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:09,780 p=26945 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] ************************************************************************************************************************************************************
2023-03-06 20:24:10,965 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:10,971 p=26945 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ********************************************************************************************************************************************************
2023-03-06 20:24:11,956 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:11,963 p=26945 u=ubuntu n=ansible | TASK [store key into file for ssh] *****************************************************************************************************************************************************************
2023-03-06 20:24:11,996 p=26945 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 20:24:12,001 p=26945 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ****************************************************************************************************************************************************************
2023-03-06 20:24:13,223 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:13,230 p=26945 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:24:14,257 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:14,263 p=26945 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] ***************************************************************************************************************************************************************
2023-03-06 20:24:15,301 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:15,307 p=26945 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] **********************************************************************************************************************************************************
2023-03-06 20:24:15,689 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:15,696 p=26945 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ****************************************************************************************************************************************************
2023-03-06 20:24:15,944 p=26945 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 20:24:15,954 p=26945 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] ******************************************************************************************************************************
2023-03-06 20:24:15,961 p=26945 u=ubuntu n=ansible | TASK [import ips] **********************************************************************************************************************************************************************************
2023-03-06 20:24:16,000 p=26945 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:24:16,005 p=26945 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:24:16,011 p=26945 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:24:16,017 p=26945 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] **********************************************************************************************************************************************************
2023-03-06 20:24:17,756 p=26945 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:24:17,877 p=26945 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:24:18,968 p=26945 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:24:18,977 p=26945 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 20:24:18,985 p=26945 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:24:19,027 p=26945 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:24:19,031 p=26945 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:24:19,036 p=26945 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:24:19,041 p=26945 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:24:19,082 p=26945 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:24:19,084 p=26945 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:24:19,091 p=26945 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:24:19,096 p=26945 u=ubuntu n=ansible | TASK [import varaibles] ****************************************************************************************************************************************************************************
2023-03-06 20:24:19,134 p=26945 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:24:19,137 p=26945 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 20:24:19,145 p=26945 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 20:24:19,151 p=26945 u=ubuntu n=ansible | TASK [disable swapp] *******************************************************************************************************************************************************************************
2023-03-06 20:24:19,915 p=26945 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:24:19,917 p=26945 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:24:19,921 p=26945 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:24:19,926 p=26945 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 20:24:21,251 p=26945 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:24:21,255 p=26945 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:24:21,259 p=26945 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:24:21,266 p=26945 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 20:24:35,172 p=26945 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:24:35,221 p=26945 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:24:36,276 p=26945 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:24:36,282 p=26945 u=ubuntu n=ansible | TASK [Copy script to nodes] ************************************************************************************************************************************************************************
2023-03-06 20:24:37,414 p=26945 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 20:24:37,419 p=26945 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:24:37,438 p=26945 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 20:24:37,444 p=26945 u=ubuntu n=ansible | TASK [Execute script file on remote host] **********************************************************************************************************************************************************
2023-03-06 20:24:37,643 p=26945 u=ubuntu n=ansible | skipping: [master]
2023-03-06 20:24:37,658 p=26945 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 20:24:37,664 p=26945 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 20:24:37,674 p=26945 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] ***************************************************************************************************************************************
2023-03-06 20:24:37,681 p=26945 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] ***************************************************************************************************************************************************************
2023-03-06 20:24:38,196 p=26945 u=ubuntu n=ansible | ok: [master]
2023-03-06 20:24:38,202 p=26945 u=ubuntu n=ansible | TASK [creat .kube directory] ***********************************************************************************************************************************************************************
2023-03-06 20:24:38,878 p=26945 u=ubuntu n=ansible | changed: [master]
2023-03-06 20:24:38,884 p=26945 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] *****************************************************************************************************************************************************
2023-03-06 20:24:39,408 p=26945 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Source /etc/kubernetes/admin.conf not found"}
2023-03-06 20:24:39,409 p=26945 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************
2023-03-06 20:24:39,410 p=26945 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 20:24:39,410 p=26945 u=ubuntu n=ansible | master                     : ok=11   changed=6    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2023-03-06 20:24:39,410 p=26945 u=ubuntu n=ansible | worker1                    : ok=9    changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 20:24:39,410 p=26945 u=ubuntu n=ansible | worker2                    : ok=9    changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 22:32:35,939 p=903 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 22:32:35,987 p=903 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 22:32:36,004 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:36,010 p=903 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 22:32:38,660 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:38,668 p=903 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 22:32:38,700 p=903 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 22:32:38,705 p=903 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 22:32:39,902 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:39,909 p=903 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 22:32:40,933 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:40,938 p=903 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 22:32:41,923 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:41,929 p=903 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 22:32:43,022 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:43,029 p=903 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 22:32:44,654 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:44,664 p=903 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 22:32:44,700 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:44,708 p=903 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 22:32:45,453 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:45,463 p=903 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 22:32:45,470 p=903 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 22:32:45,483 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:45,488 p=903 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 22:32:45,501 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:45,506 p=903 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 22:32:47,006 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:47,013 p=903 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 22:32:48,183 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:48,189 p=903 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 22:32:49,390 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:49,396 p=903 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 22:32:50,586 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:50,592 p=903 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 22:32:51,591 p=903 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:32:51,598 p=903 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 22:32:51,629 p=903 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 22:32:51,634 p=903 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 22:33:14,881 p=903 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 22:33:14,887 p=903 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 22:33:32,828 p=903 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 22:33:32,834 p=903 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 22:33:50,792 p=903 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 22:33:50,798 p=903 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 22:33:51,186 p=903 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 22:33:51,191 p=903 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 22:33:51,431 p=903 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 22:33:51,440 p=903 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 22:33:51,447 p=903 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 22:33:51,484 p=903 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:33:51,490 p=903 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:33:51,495 p=903 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:33:51,500 p=903 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 22:34:37,660 p=903 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.137 port 22: Connection timed out", "unreachable": true}
2023-03-06 22:34:37,670 p=903 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.216 port 22: Connection timed out", "unreachable": true}
2023-03-06 22:34:37,679 p=903 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.221 port 22: Connection timed out", "unreachable": true}
2023-03-06 22:34:37,679 p=903 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:34:37,680 p=903 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 22:34:37,680 p=903 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:34:37,680 p=903 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:34:37,680 p=903 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:35:38,016 p=1453 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 22:35:38,029 p=1453 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 22:35:38,044 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:38,049 p=1453 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 22:35:39,818 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:39,825 p=1453 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 22:35:39,857 p=1453 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 22:35:39,862 p=1453 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 22:35:41,005 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:41,011 p=1453 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 22:35:42,002 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:42,008 p=1453 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 22:35:42,978 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:42,984 p=1453 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 22:35:44,047 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:44,053 p=1453 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 22:35:45,567 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:45,574 p=1453 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 22:35:45,611 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:45,616 p=1453 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 22:35:46,346 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:46,356 p=1453 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 22:35:46,363 p=1453 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 22:35:46,376 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:46,381 p=1453 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 22:35:46,393 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:46,399 p=1453 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 22:35:47,869 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:47,875 p=1453 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 22:35:49,042 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:49,049 p=1453 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 22:35:50,210 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:50,216 p=1453 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 22:35:51,372 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:51,379 p=1453 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 22:35:52,367 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:52,373 p=1453 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 22:35:52,403 p=1453 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 22:35:52,408 p=1453 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 22:35:53,709 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:53,716 p=1453 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 22:35:54,732 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:54,738 p=1453 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 22:35:55,712 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:55,718 p=1453 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 22:35:56,092 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:56,098 p=1453 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 22:35:56,342 p=1453 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 22:35:56,352 p=1453 u=ubuntu n=ansible | PLAY [this playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 22:35:56,359 p=1453 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 22:35:56,396 p=1453 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:35:56,402 p=1453 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:35:56,408 p=1453 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:35:56,414 p=1453 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 22:35:58,333 p=1453 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:35:58,338 p=1453 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:35:59,058 p=1453 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:35:59,068 p=1453 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:35:59,075 p=1453 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:35:59,115 p=1453 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:35:59,119 p=1453 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:35:59,125 p=1453 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:35:59,129 p=1453 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:35:59,167 p=1453 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:35:59,170 p=1453 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:35:59,178 p=1453 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:35:59,182 p=1453 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:35:59,220 p=1453 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:35:59,226 p=1453 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:35:59,232 p=1453 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:35:59,237 p=1453 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:35:59,974 p=1453 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:35:59,993 p=1453 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:35:59,993 p=1453 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:36:00,001 p=1453 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:36:01,360 p=1453 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:36:01,365 p=1453 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:36:01,368 p=1453 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:36:01,375 p=1453 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:36:15,207 p=1453 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:36:15,216 p=1453 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:36:16,431 p=1453 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:36:16,437 p=1453 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:36:17,681 p=1453 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:36:17,689 p=1453 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:36:17,692 p=1453 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:36:17,697 p=1453 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:36:17,900 p=1453 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:36:17,936 p=1453 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:36:17,939 p=1453 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:36:17,949 p=1453 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:36:17,956 p=1453 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:36:18,474 p=1453 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:36:18,480 p=1453 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:36:19,146 p=1453 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:36:19,152 p=1453 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:36:19,675 p=1453 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Source /etc/kubernetes/admin.conf not found"}
2023-03-06 22:36:19,677 p=1453 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:36:19,677 p=1453 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 22:36:19,677 p=1453 u=ubuntu n=ansible | master                     : ok=11   changed=6    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2023-03-06 22:36:19,677 p=1453 u=ubuntu n=ansible | worker1                    : ok=9    changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 22:36:19,678 p=1453 u=ubuntu n=ansible | worker2                    : ok=9    changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 22:41:00,665 p=2258 u=ubuntu n=ansible | ERROR! the playbook: install.yanl could not be found
2023-03-06 22:41:04,553 p=2259 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:41:04,567 p=2259 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:41:04,607 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:04,608 p=2259 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:41:04,614 p=2259 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:41:04,619 p=2259 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:41:04,655 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:04,659 p=2259 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:41:04,665 p=2259 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:41:04,670 p=2259 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:41:04,707 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:04,710 p=2259 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:41:04,717 p=2259 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:41:04,722 p=2259 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:41:06,305 p=2259 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:41:06,307 p=2259 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:41:06,311 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:06,317 p=2259 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:41:07,674 p=2259 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:41:07,679 p=2259 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:41:07,775 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:07,782 p=2259 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:41:13,133 p=2259 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:41:13,144 p=2259 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:41:13,240 p=2259 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:41:13,245 p=2259 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:41:14,272 p=2259 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:41:14,283 p=2259 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:41:14,288 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:14,292 p=2259 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:41:38,317 p=2259 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:41:38,819 p=2259 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:41:46,573 p=2259 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:41:46,583 p=2259 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:41:46,590 p=2259 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:41:47,122 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:47,127 p=2259 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:41:47,780 p=2259 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:41:47,786 p=2259 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:41:48,439 p=2259 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Source /etc/kubernetes/admin.conf not found"}
2023-03-06 22:41:48,440 p=2259 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:41:48,440 p=2259 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 22:41:48,441 p=2259 u=ubuntu n=ansible | worker1                    : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:41:48,441 p=2259 u=ubuntu n=ansible | worker2                    : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:42:52,243 p=2492 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:42:52,256 p=2492 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:42:52,297 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:42:52,299 p=2492 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:42:52,305 p=2492 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:42:52,309 p=2492 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:42:52,347 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:42:52,350 p=2492 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:42:52,354 p=2492 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:42:52,359 p=2492 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:42:52,395 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:42:52,398 p=2492 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:42:52,404 p=2492 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:42:52,409 p=2492 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:42:53,941 p=2492 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:42:53,942 p=2492 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:42:53,946 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:42:53,952 p=2492 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:42:55,309 p=2492 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:42:55,312 p=2492 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:42:55,316 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:42:55,323 p=2492 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:43:02,369 p=2492 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:43:02,471 p=2492 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:43:02,601 p=2492 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:43:02,606 p=2492 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:43:03,667 p=2492 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:43:03,670 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:43:03,673 p=2492 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:43:03,678 p=2492 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:43:08,298 p=2492 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:43:08,307 p=2492 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:43:08,472 p=2492 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:43:08,482 p=2492 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:43:08,489 p=2492 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:43:51,083 p=2492 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:43:51,088 p=2492 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:43:51,788 p=2492 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:43:51,794 p=2492 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:43:52,471 p=2492 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:43:52,478 p=2492 u=ubuntu n=ansible | TASK [ste host name] **************************************************************************************************************************************
2023-03-06 22:43:53,151 p=2492 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 22:43:53,152 p=2492 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:43:53,160 p=2492 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:43:53,161 p=2492 u=ubuntu n=ansible | master                     : ok=12   changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:43:53,161 p=2492 u=ubuntu n=ansible | worker1                    : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:43:53,161 p=2492 u=ubuntu n=ansible | worker2                    : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:47:34,346 p=2741 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:47:34,361 p=2741 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:47:34,400 p=2741 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:47:34,402 p=2741 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:47:34,407 p=2741 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:47:34,412 p=2741 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:47:34,447 p=2741 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:47:34,453 p=2741 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:47:34,458 p=2741 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:47:34,461 p=2741 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:47:34,494 p=2741 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:47:34,502 p=2741 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:47:34,506 p=2741 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:47:34,510 p=2741 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:47:36,106 p=2741 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:47:36,108 p=2741 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:47:36,111 p=2741 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:47:36,117 p=2741 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:47:37,457 p=2741 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:47:37,462 p=2741 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:47:37,464 p=2741 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:47:37,472 p=2741 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:47:43,244 p=2741 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:47:45,929 p=2741 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:47:46,144 p=2741 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:47:46,149 p=2741 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 22:47:47,144 p=2741 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:47:47,167 p=2741 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:47:47,170 p=2741 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:47:47,175 p=2741 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 22:47:51,803 p=2741 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:47:51,894 p=2741 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:47:52,645 p=2741 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:47:52,655 p=2741 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:47:52,662 p=2741 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:47:53,619 p=2741 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": ["kubeadm", "init"], "delta": "0:00:00.428035", "end": "2023-03-06 22:47:53.555728", "msg": "non-zero return code", "rc": 1, "start": "2023-03-06 22:47:53.127693", "stderr": "error execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR Port-6443]: Port 6443 is in use\n\t[ERROR Port-10259]: Port 10259 is in use\n\t[ERROR Port-10257]: Port 10257 is in use\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR Port-2379]: Port 2379 is in use\n\t[ERROR Port-2380]: Port 2380 is in use\n\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR Port-6443]: Port 6443 is in use", "\t[ERROR Port-10259]: Port 10259 is in use", "\t[ERROR Port-10257]: Port 10257 is in use", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR Port-2379]: Port 2379 is in use", "\t[ERROR Port-2380]: Port 2380 is in use", "\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[init] Using Kubernetes version: v1.26.2\n[preflight] Running pre-flight checks", "stdout_lines": ["[init] Using Kubernetes version: v1.26.2", "[preflight] Running pre-flight checks"]}
2023-03-06 22:47:53,620 p=2741 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:47:53,620 p=2741 u=ubuntu n=ansible | master                     : ok=8    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 22:47:53,620 p=2741 u=ubuntu n=ansible | worker1                    : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:47:53,620 p=2741 u=ubuntu n=ansible | worker2                    : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 22:55:09,481 p=2960 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:55:09,494 p=2960 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:55:09,536 p=2960 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:55:09,538 p=2960 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:55:09,543 p=2960 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:55:09,547 p=2960 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:55:09,584 p=2960 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:55:09,586 p=2960 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:55:09,591 p=2960 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:55:09,596 p=2960 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:55:09,636 p=2960 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:55:09,639 p=2960 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:55:09,643 p=2960 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:55:09,647 p=2960 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:55:11,262 p=2960 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 22:55:11,264 p=2960 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:55:11,268 p=2960 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 22:55:11,274 p=2960 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:55:12,608 p=2960 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:55:12,611 p=2960 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:55:12,616 p=2960 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:55:12,623 p=2960 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:55:12,816 p=2960 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:55:12,829 p=2960 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:55:12,834 p=2960 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:55:12,839 p=2960 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 22:55:13,795 p=2960 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:55:13,834 p=2960 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:55:13,839 p=2960 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:55:13,844 p=2960 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 22:55:14,039 p=2960 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:55:14,053 p=2960 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:55:14,058 p=2960 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:55:14,068 p=2960 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:55:14,075 p=2960 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:55:14,575 p=2960 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (ansible.legacy.command) module: create Supported parameters include: _raw_params, _uses_shell, argv, chdir, creates, executable, removes, stdin, stdin_add_newline, strip_empty_ends, warn"}
2023-03-06 22:55:14,576 p=2960 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:55:14,576 p=2960 u=ubuntu n=ansible | master                     : ok=6    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 22:55:14,576 p=2960 u=ubuntu n=ansible | worker1                    : ok=6    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:55:14,577 p=2960 u=ubuntu n=ansible | worker2                    : ok=6    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:56:43,116 p=3154 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:56:43,129 p=3154 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:56:43,167 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:43,170 p=3154 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:56:43,175 p=3154 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:56:43,178 p=3154 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:56:43,211 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:43,215 p=3154 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:56:43,222 p=3154 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:56:43,226 p=3154 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:56:43,263 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:43,265 p=3154 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:56:43,270 p=3154 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:56:43,274 p=3154 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:56:44,823 p=3154 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:56:44,872 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:44,875 p=3154 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:56:44,880 p=3154 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:56:46,204 p=3154 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:56:46,213 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:46,216 p=3154 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:56:46,222 p=3154 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:56:46,414 p=3154 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:56:46,428 p=3154 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:56:46,436 p=3154 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:56:46,441 p=3154 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 22:56:47,393 p=3154 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:56:47,445 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:47,448 p=3154 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:56:47,453 p=3154 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 22:56:47,644 p=3154 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:56:47,650 p=3154 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:56:47,665 p=3154 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:56:47,675 p=3154 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:56:47,682 p=3154 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:56:48,186 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:48,192 p=3154 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:56:48,841 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:48,847 p=3154 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:56:49,500 p=3154 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:56:49,506 p=3154 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 22:56:50,170 p=3154 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 22:56:50,171 p=3154 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:56:50,179 p=3154 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:56:50,179 p=3154 u=ubuntu n=ansible | master                     : ok=10   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:56:50,180 p=3154 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:56:50,180 p=3154 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:57:14,072 p=3370 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:57:14,086 p=3370 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:57:14,129 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:14,130 p=3370 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:57:14,135 p=3370 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:57:14,139 p=3370 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:57:14,175 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:14,176 p=3370 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:57:14,184 p=3370 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:57:14,189 p=3370 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:57:14,223 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:14,230 p=3370 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:57:14,235 p=3370 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:57:14,239 p=3370 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:57:15,087 p=3370 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:57:15,112 p=3370 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:57:15,118 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:15,124 p=3370 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:57:16,457 p=3370 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:57:16,465 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:16,467 p=3370 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:57:16,474 p=3370 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:57:16,691 p=3370 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:57:16,694 p=3370 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:57:16,698 p=3370 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:57:16,703 p=3370 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 22:57:17,691 p=3370 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:57:17,735 p=3370 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:57:17,738 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:17,743 p=3370 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 22:57:17,948 p=3370 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:57:17,949 p=3370 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:57:17,961 p=3370 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:57:17,971 p=3370 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:57:17,978 p=3370 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:57:18,483 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:18,489 p=3370 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:57:19,143 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:19,149 p=3370 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:57:19,796 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:57:19,802 p=3370 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 22:57:20,478 p=3370 u=ubuntu n=ansible | [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

2023-03-06 22:57:20,479 p=3370 u=ubuntu n=ansible | changed: [master]
2023-03-06 22:57:20,486 p=3370 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:57:20,487 p=3370 u=ubuntu n=ansible | master                     : ok=10   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:57:20,487 p=3370 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:57:20,487 p=3370 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:58:30,550 p=3580 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:58:30,564 p=3580 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:58:30,603 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:30,606 p=3580 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:30,611 p=3580 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:30,615 p=3580 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:58:30,651 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:30,653 p=3580 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:30,659 p=3580 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:30,664 p=3580 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:58:30,700 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:30,702 p=3580 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:30,707 p=3580 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:30,712 p=3580 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:58:32,295 p=3580 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:32,303 p=3580 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:32,305 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:32,311 p=3580 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:58:33,658 p=3580 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:33,665 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:33,668 p=3580 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:33,674 p=3580 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:58:33,869 p=3580 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:58:33,877 p=3580 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:58:33,889 p=3580 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:58:33,893 p=3580 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 22:58:34,844 p=3580 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:34,864 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:34,869 p=3580 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:34,874 p=3580 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 22:58:35,068 p=3580 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:58:35,078 p=3580 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:58:35,091 p=3580 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:58:35,101 p=3580 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:58:35,108 p=3580 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:58:35,611 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:35,616 p=3580 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:58:36,258 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:36,264 p=3580 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:58:36,912 p=3580 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:36,918 p=3580 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 22:58:37,417 p=3580 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (ansible.legacy.command) module: create Supported parameters include: _raw_params, _uses_shell, argv, chdir, creates, executable, removes, stdin, stdin_add_newline, strip_empty_ends, warn"}
2023-03-06 22:58:37,418 p=3580 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:58:37,418 p=3580 u=ubuntu n=ansible | master                     : ok=9    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 22:58:37,418 p=3580 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:58:37,419 p=3580 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:58:55,882 p=3798 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:58:55,895 p=3798 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:58:55,935 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:55,938 p=3798 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:55,943 p=3798 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:55,948 p=3798 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:58:55,983 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:55,986 p=3798 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:55,993 p=3798 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:55,999 p=3798 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 22:58:56,035 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:56,039 p=3798 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:56,045 p=3798 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:56,051 p=3798 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 22:58:56,919 p=3798 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:56,940 p=3798 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:56,940 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:56,948 p=3798 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 22:58:58,294 p=3798 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:58,304 p=3798 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:58,306 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:58,313 p=3798 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 22:58:58,503 p=3798 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:58:58,514 p=3798 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:58:58,527 p=3798 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:58:58,532 p=3798 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 22:58:59,488 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:58:59,540 p=3798 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 22:58:59,544 p=3798 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 22:58:59,549 p=3798 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 22:58:59,744 p=3798 u=ubuntu n=ansible | skipping: [master]
2023-03-06 22:58:59,751 p=3798 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 22:58:59,762 p=3798 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 22:58:59,771 p=3798 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 22:58:59,778 p=3798 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 22:59:00,299 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:59:00,305 p=3798 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 22:59:00,955 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:59:00,960 p=3798 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 22:59:01,613 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:59:01,619 p=3798 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 22:59:02,129 p=3798 u=ubuntu n=ansible | ok: [master]
2023-03-06 22:59:02,137 p=3798 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 22:59:02,137 p=3798 u=ubuntu n=ansible | master                     : ok=10   changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:59:02,138 p=3798 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 22:59:02,138 p=3798 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:00:59,055 p=4012 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:00:59,069 p=4012 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:00:59,107 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:00:59,111 p=4012 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:00:59,117 p=4012 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:00:59,122 p=4012 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:00:59,160 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:00:59,162 p=4012 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:00:59,167 p=4012 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:00:59,171 p=4012 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:00:59,209 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:00:59,210 p=4012 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:00:59,216 p=4012 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:00:59,221 p=4012 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:01:00,803 p=4012 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:01:00,816 p=4012 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:01:00,818 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:00,824 p=4012 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:01:02,180 p=4012 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:01:02,192 p=4012 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:01:02,193 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:02,201 p=4012 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:01:02,394 p=4012 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:01:02,414 p=4012 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:01:02,419 p=4012 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:01:02,424 p=4012 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:01:03,382 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:03,421 p=4012 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:01:03,426 p=4012 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:01:03,431 p=4012 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:01:03,626 p=4012 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:01:03,638 p=4012 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:01:03,644 p=4012 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:01:03,653 p=4012 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:01:03,661 p=4012 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:01:04,167 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:04,172 p=4012 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 23:01:04,817 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:04,823 p=4012 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 23:01:05,478 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:05,483 p=4012 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 23:01:05,985 p=4012 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:01:05,994 p=4012 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:01:05,994 p=4012 u=ubuntu n=ansible | master                     : ok=10   changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:01:05,994 p=4012 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:01:05,995 p=4012 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:02:40,251 p=4233 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:02:40,265 p=4233 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:02:40,303 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:40,307 p=4233 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:02:40,314 p=4233 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:02:40,319 p=4233 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:02:40,357 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:40,360 p=4233 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:02:40,367 p=4233 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:02:40,371 p=4233 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:02:40,407 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:40,410 p=4233 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:02:40,416 p=4233 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:02:40,421 p=4233 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:02:41,994 p=4233 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:02:42,010 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:42,011 p=4233 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:02:42,018 p=4233 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:02:43,341 p=4233 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:02:43,365 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:43,365 p=4233 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:02:43,375 p=4233 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:02:43,568 p=4233 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:02:43,594 p=4233 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:02:43,597 p=4233 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:02:43,602 p=4233 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:02:44,564 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:44,600 p=4233 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:02:44,608 p=4233 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:02:44,613 p=4233 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:02:44,803 p=4233 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:02:44,822 p=4233 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:02:44,826 p=4233 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:02:44,836 p=4233 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:02:44,843 p=4233 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:02:45,343 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:45,349 p=4233 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 23:02:45,994 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:46,000 p=4233 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 23:02:46,646 p=4233 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:02:46,652 p=4233 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 23:02:47,322 p=4233 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:02:47,331 p=4233 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:02:47,331 p=4233 u=ubuntu n=ansible | master                     : ok=10   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:02:47,331 p=4233 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:02:47,332 p=4233 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:03:43,346 p=4452 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:03:43,360 p=4452 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:03:43,401 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:43,403 p=4452 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:03:43,409 p=4452 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:03:43,412 p=4452 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:03:43,451 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:43,453 p=4452 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:03:43,458 p=4452 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:03:43,462 p=4452 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:03:43,495 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:43,501 p=4452 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:03:43,507 p=4452 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:03:43,512 p=4452 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:03:44,408 p=4452 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:03:44,410 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:44,414 p=4452 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:03:44,419 p=4452 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:03:45,769 p=4452 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:03:45,776 p=4452 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:03:45,777 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:45,785 p=4452 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:03:45,971 p=4452 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:03:45,991 p=4452 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:03:45,995 p=4452 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:03:46,000 p=4452 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:03:46,938 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:47,002 p=4452 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:03:47,012 p=4452 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:03:47,017 p=4452 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:03:47,208 p=4452 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:03:47,246 p=4452 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:03:47,249 p=4452 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:03:47,259 p=4452 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:03:47,266 p=4452 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:03:47,771 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:47,777 p=4452 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 23:03:48,426 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:48,432 p=4452 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 23:03:49,078 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:49,083 p=4452 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 23:03:49,586 p=4452 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:03:49,595 p=4452 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:03:49,595 p=4452 u=ubuntu n=ansible | master                     : ok=10   changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:03:49,596 p=4452 u=ubuntu n=ansible | worker1                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:03:49,596 p=4452 u=ubuntu n=ansible | worker2                    : ok=6    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:14:09,195 p=4686 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:14:09,207 p=4686 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:14:09,223 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:09,228 p=4686 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:14:10,986 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:10,992 p=4686 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:14:11,023 p=4686 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:14:11,029 p=4686 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:14:12,172 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:12,179 p=4686 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:14:13,178 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:13,184 p=4686 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:14:14,183 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:14,189 p=4686 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:14:15,450 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:15,456 p=4686 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:14:17,007 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:17,014 p=4686 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:14:17,051 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:17,056 p=4686 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:14:17,797 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:17,808 p=4686 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:14:17,815 p=4686 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:14:17,828 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:17,833 p=4686 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:14:17,846 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:17,851 p=4686 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:14:19,319 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:19,326 p=4686 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:14:20,513 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:20,519 p=4686 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:14:21,718 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:21,724 p=4686 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:14:23,039 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:23,045 p=4686 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:14:24,039 p=4686 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:14:24,046 p=4686 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:14:24,078 p=4686 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:14:24,083 p=4686 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:14:52,220 p=4686 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 23:14:52,227 p=4686 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:15:10,213 p=4686 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 23:15:10,220 p=4686 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:15:28,180 p=4686 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 23:15:28,186 p=4686 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:15:28,566 p=4686 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 23:15:28,572 p=4686 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:15:28,852 p=4686 u=ubuntu n=ansible | changed: [localhost]
2023-03-06 23:15:28,862 p=4686 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:15:28,869 p=4686 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:15:28,907 p=4686 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:15:28,910 p=4686 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:15:28,918 p=4686 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:15:28,924 p=4686 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:16:15,222 p=4686 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.171 port 22: Connection timed out", "unreachable": true}
2023-03-06 23:16:15,248 p=4686 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.41 port 22: Connection timed out", "unreachable": true}
2023-03-06 23:16:15,249 p=4686 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.229 port 22: Connection timed out", "unreachable": true}
2023-03-06 23:16:15,249 p=4686 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:16:15,250 p=4686 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:16:15,250 p=4686 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:16:15,250 p=4686 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:16:15,250 p=4686 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:24:04,736 p=5263 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:24:04,748 p=5263 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:24:04,763 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:04,768 p=5263 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:24:06,529 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:06,536 p=5263 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:24:06,568 p=5263 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:24:06,574 p=5263 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:24:07,755 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:07,761 p=5263 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:24:08,753 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:08,759 p=5263 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:24:09,750 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:09,756 p=5263 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:24:10,837 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:10,844 p=5263 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:24:12,401 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:12,409 p=5263 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:24:12,446 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:12,452 p=5263 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:24:13,160 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:13,170 p=5263 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:24:13,177 p=5263 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:24:13,191 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:13,195 p=5263 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:24:13,208 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:13,213 p=5263 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:24:14,698 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:14,705 p=5263 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:24:15,940 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:15,946 p=5263 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:24:17,142 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:17,148 p=5263 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:24:18,313 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:18,319 p=5263 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:24:19,319 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:19,325 p=5263 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:24:19,356 p=5263 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:24:19,361 p=5263 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:24:20,555 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:20,561 p=5263 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:24:21,567 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:21,573 p=5263 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:24:22,605 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:22,611 p=5263 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:24:22,992 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:22,998 p=5263 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:24:23,244 p=5263 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:24:23,254 p=5263 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:24:23,261 p=5263 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:24:23,299 p=5263 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:24:23,303 p=5263 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:24:23,310 p=5263 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:24:23,314 p=5263 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:24:25,082 p=5263 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:24:25,164 p=5263 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:24:26,387 p=5263 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:24:26,396 p=5263 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:24:26,403 p=5263 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:24:26,445 p=5263 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:24:26,448 p=5263 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:24:26,453 p=5263 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:24:26,458 p=5263 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:24:26,495 p=5263 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:24:26,498 p=5263 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:24:26,505 p=5263 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:24:26,510 p=5263 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:24:26,547 p=5263 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:24:26,550 p=5263 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:24:26,557 p=5263 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:24:26,562 p=5263 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:24:27,297 p=5263 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:24:27,313 p=5263 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:24:27,313 p=5263 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:24:27,320 p=5263 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:24:28,677 p=5263 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:24:28,682 p=5263 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:24:28,685 p=5263 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:24:28,691 p=5263 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:24:28,907 p=5263 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:24:28,914 p=5263 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:24:28,954 p=5263 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:24:28,960 p=5263 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:24:30,131 p=5263 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:24:30,145 p=5263 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:24:30,155 p=5263 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:24:30,159 p=5263 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:24:30,358 p=5263 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:24:30,373 p=5263 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:24:30,377 p=5263 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:24:30,387 p=5263 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:24:30,394 p=5263 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:24:30,929 p=5263 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "cmd": "kubeadm init", "msg": "[Errno 2] No such file or directory: b'kubeadm'", "rc": 2}
2023-03-06 23:24:30,930 p=5263 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:24:30,931 p=5263 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:24:30,931 p=5263 u=ubuntu n=ansible | master                     : ok=8    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 23:24:30,931 p=5263 u=ubuntu n=ansible | worker1                    : ok=8    changed=4    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:24:30,931 p=5263 u=ubuntu n=ansible | worker2                    : ok=8    changed=4    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:27:30,672 p=6032 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:27:30,685 p=6032 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:27:30,700 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:30,706 p=6032 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:27:32,468 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:32,474 p=6032 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:27:32,506 p=6032 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:27:32,511 p=6032 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:27:33,670 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:33,677 p=6032 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:27:34,676 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:34,682 p=6032 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:27:35,693 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:35,699 p=6032 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:27:36,773 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:36,780 p=6032 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:27:38,316 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:38,323 p=6032 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:27:38,360 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:38,365 p=6032 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:27:39,092 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:39,103 p=6032 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:27:39,110 p=6032 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:27:39,122 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:39,128 p=6032 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:27:39,141 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:39,146 p=6032 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:27:40,632 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:40,640 p=6032 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:27:41,827 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:41,834 p=6032 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:27:43,035 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:43,041 p=6032 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:27:44,322 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:44,328 p=6032 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:27:45,322 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:45,329 p=6032 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:27:45,360 p=6032 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:27:45,366 p=6032 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:27:46,569 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:46,575 p=6032 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:27:47,615 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:47,621 p=6032 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:27:48,629 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:48,635 p=6032 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:27:49,014 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:49,020 p=6032 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:27:49,268 p=6032 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:27:49,278 p=6032 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:27:49,285 p=6032 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:27:49,321 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:49,324 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:49,334 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:49,339 p=6032 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:27:50,746 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:50,801 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:50,824 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:50,834 p=6032 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:27:50,841 p=6032 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:27:50,884 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:50,888 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:50,895 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:50,898 p=6032 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:27:50,944 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:50,946 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:50,950 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:50,955 p=6032 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:27:50,999 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:51,001 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:51,008 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:51,012 p=6032 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:27:51,759 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:51,772 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:51,773 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:51,780 p=6032 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:27:52,802 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:52,822 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:53,271 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:53,278 p=6032 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:27:53,484 p=6032 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:27:53,495 p=6032 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:27:53,498 p=6032 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:27:53,504 p=6032 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:27:54,473 p=6032 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:27:54,514 p=6032 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:27:54,517 p=6032 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:27:54,522 p=6032 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:27:54,733 p=6032 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:27:54,740 p=6032 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:27:54,742 p=6032 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:27:54,751 p=6032 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:27:54,758 p=6032 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:27:55,284 p=6032 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "cmd": "kubeadm init", "msg": "[Errno 2] No such file or directory: b'kubeadm'", "rc": 2}
2023-03-06 23:27:55,285 p=6032 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:27:55,285 p=6032 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:27:55,285 p=6032 u=ubuntu n=ansible | master                     : ok=8    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 23:27:55,285 p=6032 u=ubuntu n=ansible | worker1                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:27:55,286 p=6032 u=ubuntu n=ansible | worker2                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:30:44,286 p=6781 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:30:44,298 p=6781 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:30:44,313 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:44,318 p=6781 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:30:46,216 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:46,222 p=6781 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:30:46,255 p=6781 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:30:46,261 p=6781 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:30:47,593 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:47,599 p=6781 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:30:48,590 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:48,595 p=6781 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:30:49,569 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:49,575 p=6781 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:30:50,645 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:50,652 p=6781 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:30:52,217 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:52,224 p=6781 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:30:52,261 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:52,267 p=6781 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:30:52,996 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:53,007 p=6781 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:30:53,013 p=6781 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:30:53,026 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:53,031 p=6781 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:30:53,045 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:53,050 p=6781 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:30:54,630 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:54,637 p=6781 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:30:55,808 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:55,814 p=6781 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:30:56,990 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:56,996 p=6781 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:30:58,170 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:58,177 p=6781 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:30:59,172 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:30:59,179 p=6781 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:30:59,210 p=6781 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:30:59,216 p=6781 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:31:00,420 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:31:00,426 p=6781 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:31:01,453 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:31:01,459 p=6781 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:31:02,595 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:31:02,601 p=6781 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:31:02,975 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:31:02,981 p=6781 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:31:03,226 p=6781 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:31:03,236 p=6781 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:31:03,243 p=6781 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:31:03,279 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:03,285 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:03,292 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:03,296 p=6781 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:31:04,787 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:04,804 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:04,809 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:04,818 p=6781 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:31:04,825 p=6781 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:31:04,864 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:04,866 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:04,875 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:04,881 p=6781 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:31:04,919 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:04,923 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:04,932 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:04,936 p=6781 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:31:04,975 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:04,978 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:04,984 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:04,989 p=6781 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:31:05,740 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:05,742 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:05,747 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:05,753 p=6781 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:31:06,753 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:06,764 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:06,766 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:06,773 p=6781 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:31:06,974 p=6781 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:31:07,001 p=6781 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:31:07,006 p=6781 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:31:07,010 p=6781 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:31:08,006 p=6781 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:31:08,041 p=6781 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:31:08,046 p=6781 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:31:08,052 p=6781 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:31:08,248 p=6781 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:31:08,277 p=6781 u=ubuntu n=ansible | skipping: [worker1]
2023-03-06 23:31:08,278 p=6781 u=ubuntu n=ansible | skipping: [worker2]
2023-03-06 23:31:08,289 p=6781 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:31:08,296 p=6781 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:31:08,818 p=6781 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": false, "cmd": "kubeadm init", "msg": "[Errno 2] No such file or directory: b'kubeadm'", "rc": 2}
2023-03-06 23:31:08,819 p=6781 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:31:08,819 p=6781 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:31:08,820 p=6781 u=ubuntu n=ansible | master                     : ok=8    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-06 23:31:08,820 p=6781 u=ubuntu n=ansible | worker1                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:31:08,820 p=6781 u=ubuntu n=ansible | worker2                    : ok=8    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:33:12,335 p=7531 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:33:12,347 p=7531 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:33:12,362 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:12,367 p=7531 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:33:14,133 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:14,139 p=7531 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:33:14,170 p=7531 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:33:14,176 p=7531 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:33:15,259 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:15,266 p=7531 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:33:16,234 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:16,239 p=7531 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:33:17,356 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:17,363 p=7531 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:33:18,418 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:18,425 p=7531 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:33:19,872 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:19,879 p=7531 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:33:19,916 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:19,921 p=7531 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:33:20,661 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:20,671 p=7531 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:33:20,678 p=7531 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:33:20,691 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:20,696 p=7531 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:33:20,710 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:20,714 p=7531 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:33:22,151 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:22,158 p=7531 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:33:23,350 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:23,357 p=7531 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:33:24,523 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:24,529 p=7531 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:33:25,702 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:25,708 p=7531 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:33:26,711 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:26,718 p=7531 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:33:26,749 p=7531 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:33:26,754 p=7531 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:33:27,900 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:27,907 p=7531 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:33:28,879 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:28,885 p=7531 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:33:29,850 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:29,856 p=7531 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:33:30,237 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:30,243 p=7531 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:33:30,486 p=7531 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:33:30,495 p=7531 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:33:30,502 p=7531 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:33:30,539 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:30,542 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:30,549 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:30,555 p=7531 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:33:32,000 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:32,009 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:32,024 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:32,033 p=7531 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:33:32,041 p=7531 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:33:32,081 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:32,084 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:32,090 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:32,095 p=7531 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:33:32,131 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:32,138 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:32,144 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:32,148 p=7531 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:33:32,187 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:32,189 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:32,197 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:32,202 p=7531 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:33:32,941 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:32,949 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:32,951 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:32,957 p=7531 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:33:33,944 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:33,983 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:33,986 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:33,992 p=7531 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:33:47,798 p=7531 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:33:47,842 p=7531 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:33:50,065 p=7531 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:33:50,071 p=7531 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:33:51,065 p=7531 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:33:51,115 p=7531 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:33:51,119 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:33:51,123 p=7531 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:34:17,599 p=7531 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:34:19,907 p=7531 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:34:33,637 p=7531 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:34:33,647 p=7531 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:34:33,654 p=7531 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:35:18,457 p=7531 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:35:18,462 p=7531 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 23:35:19,218 p=7531 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:35:19,224 p=7531 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 23:35:19,902 p=7531 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:35:19,908 p=7531 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 23:35:20,524 p=7531 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:35:20,533 p=7531 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:35:20,533 p=7531 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:35:20,533 p=7531 u=ubuntu n=ansible | master                     : ok=14   changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:35:20,533 p=7531 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:35:20,534 p=7531 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:39:15,583 p=8341 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:39:15,595 p=8341 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:39:15,611 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:15,616 p=8341 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:39:17,392 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:17,398 p=8341 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:39:17,429 p=8341 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:39:17,435 p=8341 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:39:18,585 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:18,591 p=8341 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:39:19,583 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:19,589 p=8341 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:39:20,581 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:20,587 p=8341 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:39:21,647 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:21,654 p=8341 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:39:23,232 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:23,240 p=8341 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:39:23,276 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:23,282 p=8341 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:39:23,988 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:23,998 p=8341 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:39:24,004 p=8341 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:39:24,018 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:24,023 p=8341 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:39:24,037 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:24,042 p=8341 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:39:25,628 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:25,635 p=8341 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:39:26,794 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:26,800 p=8341 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:39:27,967 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:27,974 p=8341 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:39:29,152 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:29,159 p=8341 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:39:30,192 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:30,199 p=8341 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:39:30,230 p=8341 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:39:30,235 p=8341 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:39:31,460 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:31,467 p=8341 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:39:32,501 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:32,507 p=8341 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:39:33,541 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:33,547 p=8341 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:39:33,921 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:33,927 p=8341 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:39:34,166 p=8341 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:39:34,176 p=8341 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:39:34,182 p=8341 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:39:34,220 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:34,222 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:34,228 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:34,233 p=8341 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:39:35,663 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:35,677 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:35,748 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:35,757 p=8341 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:39:35,764 p=8341 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:39:35,805 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:35,806 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:35,812 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:35,816 p=8341 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:39:35,851 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:35,857 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:35,862 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:35,866 p=8341 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:39:35,899 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:35,903 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:35,910 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:35,916 p=8341 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:39:36,656 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:36,659 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:36,663 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:36,668 p=8341 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:39:37,648 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:37,675 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:37,682 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:37,689 p=8341 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:39:37,895 p=8341 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:39:45,126 p=8341 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:39:45,267 p=8341 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:39:45,273 p=8341 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:39:46,267 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:46,288 p=8341 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:39:46,288 p=8341 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:39:46,295 p=8341 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:39:46,496 p=8341 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:39:50,998 p=8341 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:39:51,107 p=8341 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:39:51,118 p=8341 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:39:51,125 p=8341 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:39:51,673 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:51,678 p=8341 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 23:39:52,353 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:52,358 p=8341 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 23:39:53,032 p=8341 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:39:53,038 p=8341 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 23:39:53,720 p=8341 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:39:53,728 p=8341 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:39:53,728 p=8341 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:39:53,728 p=8341 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:39:53,729 p=8341 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:39:53,729 p=8341 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:41:41,790 p=9134 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:41:41,802 p=9134 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:41:41,821 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:41,824 p=9134 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:41:43,515 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:43,522 p=9134 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:41:43,553 p=9134 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:41:43,558 p=9134 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:41:44,635 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:44,642 p=9134 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:41:45,611 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:45,617 p=9134 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:41:46,554 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:46,560 p=9134 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:41:47,589 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:47,595 p=9134 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:41:49,028 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:49,036 p=9134 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:41:49,073 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:49,078 p=9134 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:41:49,805 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:49,816 p=9134 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:41:49,822 p=9134 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:41:49,835 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:49,840 p=9134 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:41:49,852 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:49,857 p=9134 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:41:51,213 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:51,219 p=9134 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:41:52,435 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:52,442 p=9134 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:41:53,616 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:53,622 p=9134 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:41:54,809 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:54,816 p=9134 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:41:55,815 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:55,822 p=9134 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:41:55,854 p=9134 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:41:55,859 p=9134 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:41:56,996 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:57,003 p=9134 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:41:57,977 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:57,983 p=9134 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:41:58,932 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:58,938 p=9134 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:41:59,317 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:59,322 p=9134 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:41:59,567 p=9134 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:41:59,577 p=9134 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:41:59,584 p=9134 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:41:59,619 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:41:59,625 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:41:59,631 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:41:59,635 p=9134 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:42:01,138 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:01,144 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:01,156 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:01,166 p=9134 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:42:01,173 p=9134 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:42:01,215 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:01,218 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:01,226 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:01,231 p=9134 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:42:01,267 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:01,274 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:01,280 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:01,286 p=9134 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:42:01,327 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:01,329 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:01,338 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:01,344 p=9134 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:42:02,121 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:02,124 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:02,137 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:02,143 p=9134 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:42:03,205 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:03,207 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:03,211 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:03,217 p=9134 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:42:03,418 p=9134 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:42:08,808 p=9134 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:42:08,830 p=9134 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:42:08,835 p=9134 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:42:09,902 p=9134 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:42:09,906 p=9134 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:42:09,909 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:09,914 p=9134 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:42:10,119 p=9134 u=ubuntu n=ansible | skipping: [master]
2023-03-06 23:42:14,592 p=9134 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:42:14,680 p=9134 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:42:14,690 p=9134 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:42:14,697 p=9134 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:42:15,245 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:15,251 p=9134 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-06 23:42:15,923 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:15,929 p=9134 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-06 23:42:16,599 p=9134 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:42:16,605 p=9134 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-06 23:42:17,294 p=9134 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:42:17,303 p=9134 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:42:17,303 p=9134 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:42:17,303 p=9134 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-06 23:42:17,303 p=9134 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:42:17,304 p=9134 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:44:30,013 p=9928 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-06 23:44:30,025 p=9928 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-06 23:44:30,040 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:30,045 p=9928 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-06 23:44:31,842 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:31,847 p=9928 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-06 23:44:31,879 p=9928 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-06 23:44:31,885 p=9928 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-06 23:44:33,024 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:33,030 p=9928 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-06 23:44:34,043 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:34,049 p=9928 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-06 23:44:35,033 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:35,039 p=9928 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-06 23:44:36,115 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:36,122 p=9928 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-06 23:44:37,719 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:37,727 p=9928 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-06 23:44:37,764 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:37,770 p=9928 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-06 23:44:38,472 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:38,482 p=9928 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-06 23:44:38,489 p=9928 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-06 23:44:38,502 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:38,507 p=9928 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-06 23:44:38,521 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:38,526 p=9928 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-06 23:44:40,023 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:40,030 p=9928 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-06 23:44:41,341 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:41,347 p=9928 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:44:42,535 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:42,541 p=9928 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-06 23:44:43,727 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:43,734 p=9928 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-06 23:44:44,739 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:44,746 p=9928 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-06 23:44:44,777 p=9928 u=ubuntu n=ansible | skipping: [localhost]
2023-03-06 23:44:44,783 p=9928 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-06 23:44:46,004 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:46,011 p=9928 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:44:47,052 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:47,058 p=9928 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-06 23:44:48,082 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:48,088 p=9928 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-06 23:44:48,469 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:48,475 p=9928 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-06 23:44:48,723 p=9928 u=ubuntu n=ansible | ok: [localhost]
2023-03-06 23:44:48,733 p=9928 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-06 23:44:48,740 p=9928 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-06 23:44:48,779 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:48,786 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:48,793 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:48,798 p=9928 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-06 23:44:50,270 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:50,276 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:50,282 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:50,290 p=9928 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:44:50,297 p=9928 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:44:50,340 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:50,343 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:50,349 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:50,353 p=9928 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:44:50,393 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:50,395 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:50,402 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:50,407 p=9928 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-06 23:44:50,445 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:50,450 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:50,456 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:50,460 p=9928 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-06 23:44:51,206 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:51,214 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:51,214 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:51,222 p=9928 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-06 23:44:52,204 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:44:52,250 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:44:52,255 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:44:52,260 p=9928 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-06 23:44:57,704 p=9928 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:44:57,759 p=9928 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:45:00,570 p=9928 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:45:00,575 p=9928 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-06 23:45:01,569 p=9928 u=ubuntu n=ansible | ok: [master]
2023-03-06 23:45:01,617 p=9928 u=ubuntu n=ansible | ok: [worker1]
2023-03-06 23:45:01,621 p=9928 u=ubuntu n=ansible | ok: [worker2]
2023-03-06 23:45:01,626 p=9928 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-06 23:45:06,514 p=9928 u=ubuntu n=ansible | changed: [worker2]
2023-03-06 23:45:06,702 p=9928 u=ubuntu n=ansible | changed: [worker1]
2023-03-06 23:45:06,714 p=9928 u=ubuntu n=ansible | changed: [master]
2023-03-06 23:45:06,725 p=9928 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-06 23:45:06,733 p=9928 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-06 23:45:07,660 p=9928 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": ["kubeadm", "init"], "delta": "0:00:00.396386", "end": "2023-03-06 23:45:07.595716", "msg": "non-zero return code", "rc": 1, "start": "2023-03-06 23:45:07.199330", "stderr": "error execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR Port-6443]: Port 6443 is in use\n\t[ERROR Port-10259]: Port 10259 is in use\n\t[ERROR Port-10257]: Port 10257 is in use\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR Port-2379]: Port 2379 is in use\n\t[ERROR Port-2380]: Port 2380 is in use\n\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR Port-6443]: Port 6443 is in use", "\t[ERROR Port-10259]: Port 10259 is in use", "\t[ERROR Port-10257]: Port 10257 is in use", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR Port-2379]: Port 2379 is in use", "\t[ERROR Port-2380]: Port 2380 is in use", "\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[init] Using Kubernetes version: v1.26.2\n[preflight] Running pre-flight checks", "stdout_lines": ["[init] Using Kubernetes version: v1.26.2", "[preflight] Running pre-flight checks"]}
2023-03-06 23:45:07,661 p=9928 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-06 23:45:07,661 p=9928 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-06 23:45:07,662 p=9928 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-06 23:45:07,662 p=9928 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-06 23:45:07,662 p=9928 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:01:47,923 p=10790 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:01:47,936 p=10790 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:01:47,951 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:47,956 p=10790 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:01:49,826 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:49,833 p=10790 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:01:49,865 p=10790 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:01:49,870 p=10790 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:01:51,057 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:51,064 p=10790 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:01:52,250 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:52,257 p=10790 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:01:53,250 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:53,257 p=10790 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:01:54,338 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:54,345 p=10790 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:01:55,867 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:55,875 p=10790 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:01:55,911 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:55,917 p=10790 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:01:56,660 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:56,670 p=10790 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:01:56,677 p=10790 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:01:56,689 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:56,694 p=10790 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:01:56,708 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:56,713 p=10790 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:01:58,211 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:58,218 p=10790 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:01:59,379 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:01:59,386 p=10790 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:02:00,583 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:00,589 p=10790 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:02:01,783 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:01,790 p=10790 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:02:02,782 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:02,790 p=10790 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:02:02,821 p=10790 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:02:02,826 p=10790 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:02:04,077 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:04,083 p=10790 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:02:05,134 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:05,140 p=10790 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:02:06,185 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:06,191 p=10790 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:02:06,566 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:06,572 p=10790 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:02:06,820 p=10790 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:02:06,830 p=10790 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:02:06,837 p=10790 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:02:06,876 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:06,879 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:06,887 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:06,891 p=10790 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:02:08,372 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:08,380 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:08,418 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:08,428 p=10790 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:02:08,435 p=10790 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:02:08,473 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:08,478 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:08,485 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:08,490 p=10790 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:02:08,527 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:08,533 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:08,540 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:08,543 p=10790 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:02:08,584 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:08,586 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:08,591 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:08,595 p=10790 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:02:09,338 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:09,343 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:09,346 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:09,351 p=10790 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:02:10,319 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:10,360 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:10,364 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:10,370 p=10790 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:02:16,812 p=10790 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:02:16,828 p=10790 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:02:16,989 p=10790 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:02:16,995 p=10790 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:02:18,014 p=10790 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:02:18,022 p=10790 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:02:18,026 p=10790 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:02:18,031 p=10790 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:02:22,715 p=10790 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:02:22,837 p=10790 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:02:23,062 p=10790 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:02:23,072 p=10790 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:02:23,079 p=10790 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:02:23,993 p=10790 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubeadm init", "delta": "0:00:00.381089", "end": "2023-03-07 00:02:23.929247", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 00:02:23.548158", "stderr": "error execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR Port-6443]: Port 6443 is in use\n\t[ERROR Port-10259]: Port 10259 is in use\n\t[ERROR Port-10257]: Port 10257 is in use\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR Port-2379]: Port 2379 is in use\n\t[ERROR Port-2380]: Port 2380 is in use\n\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR Port-6443]: Port 6443 is in use", "\t[ERROR Port-10259]: Port 10259 is in use", "\t[ERROR Port-10257]: Port 10257 is in use", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR Port-2379]: Port 2379 is in use", "\t[ERROR Port-2380]: Port 2380 is in use", "\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[init] Using Kubernetes version: v1.26.2\n[preflight] Running pre-flight checks", "stdout_lines": ["[init] Using Kubernetes version: v1.26.2", "[preflight] Running pre-flight checks"]}
2023-03-07 00:02:23,994 p=10790 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:02:23,995 p=10790 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:02:23,995 p=10790 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 00:02:23,995 p=10790 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:02:23,995 p=10790 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:03:32,138 p=11561 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:03:32,150 p=11561 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:03:32,165 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:32,170 p=11561 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:03:34,063 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:34,070 p=11561 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:03:34,102 p=11561 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:03:34,107 p=11561 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:03:35,199 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:35,206 p=11561 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:03:36,183 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:36,189 p=11561 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:03:37,160 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:37,166 p=11561 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:03:38,211 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:38,218 p=11561 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:03:39,638 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:39,646 p=11561 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:03:39,682 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:39,688 p=11561 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:03:40,428 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:40,439 p=11561 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:03:40,445 p=11561 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:03:40,458 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:40,464 p=11561 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:03:40,476 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:40,481 p=11561 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:03:41,837 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:41,845 p=11561 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:03:43,011 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:43,018 p=11561 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:03:44,186 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:44,193 p=11561 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:03:45,372 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:45,379 p=11561 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:03:46,377 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:46,383 p=11561 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:03:46,414 p=11561 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:03:46,419 p=11561 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:03:47,540 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:47,547 p=11561 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:03:48,515 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:48,521 p=11561 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:03:49,473 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:49,479 p=11561 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:03:49,865 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:49,870 p=11561 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:03:50,117 p=11561 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:03:50,127 p=11561 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:03:50,134 p=11561 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:03:50,171 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:50,173 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:50,184 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:50,188 p=11561 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:03:51,668 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:51,671 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:51,689 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:51,699 p=11561 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:03:51,706 p=11561 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:03:51,744 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:51,749 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:51,754 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:51,759 p=11561 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:03:51,795 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:51,798 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:51,806 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:51,811 p=11561 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:03:51,847 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:51,850 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:51,858 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:51,864 p=11561 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:03:52,591 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:52,593 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:52,608 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:52,614 p=11561 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:03:53,630 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:03:53,636 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:03:53,647 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:03:53,652 p=11561 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:03:58,931 p=11561 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:03:59,030 p=11561 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:03:59,305 p=11561 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:03:59,310 p=11561 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:04:00,333 p=11561 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:04:00,349 p=11561 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:04:00,354 p=11561 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:04:00,358 p=11561 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:04:05,187 p=11561 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:04:05,226 p=11561 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:04:05,620 p=11561 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:04:05,629 p=11561 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:04:05,636 p=11561 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:04:06,608 p=11561 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubeadm init", "delta": "0:00:00.412830", "end": "2023-03-07 00:04:06.539512", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 00:04:06.126682", "stderr": "error execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR Port-6443]: Port 6443 is in use\n\t[ERROR Port-10259]: Port 10259 is in use\n\t[ERROR Port-10257]: Port 10257 is in use\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists\n\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR Port-2379]: Port 2379 is in use\n\t[ERROR Port-2380]: Port 2380 is in use\n\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR Port-6443]: Port 6443 is in use", "\t[ERROR Port-10259]: Port 10259 is in use", "\t[ERROR Port-10257]: Port 10257 is in use", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml]: /etc/kubernetes/manifests/kube-apiserver.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml]: /etc/kubernetes/manifests/kube-controller-manager.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml]: /etc/kubernetes/manifests/kube-scheduler.yaml already exists", "\t[ERROR FileAvailable--etc-kubernetes-manifests-etcd.yaml]: /etc/kubernetes/manifests/etcd.yaml already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR Port-2379]: Port 2379 is in use", "\t[ERROR Port-2380]: Port 2380 is in use", "\t[ERROR DirAvailable--var-lib-etcd]: /var/lib/etcd is not empty", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[init] Using Kubernetes version: v1.26.2\n[preflight] Running pre-flight checks", "stdout_lines": ["[init] Using Kubernetes version: v1.26.2", "[preflight] Running pre-flight checks"]}
2023-03-07 00:04:06,609 p=11561 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:04:06,609 p=11561 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:04:06,609 p=11561 u=ubuntu n=ansible | master                     : ok=10   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 00:04:06,609 p=11561 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:04:06,610 p=11561 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:07:31,543 p=12336 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:07:31,555 p=12336 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:07:31,571 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:31,576 p=12336 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:07:33,277 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:33,283 p=12336 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:07:33,315 p=12336 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:07:33,321 p=12336 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:07:34,482 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:34,488 p=12336 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:07:35,479 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:35,485 p=12336 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:07:36,486 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:36,492 p=12336 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:07:37,554 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:37,561 p=12336 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:07:39,164 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:39,172 p=12336 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:07:39,209 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:39,215 p=12336 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:07:39,955 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:39,965 p=12336 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:07:39,972 p=12336 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:07:39,985 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:39,990 p=12336 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:07:40,002 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:40,008 p=12336 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:07:41,523 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:41,530 p=12336 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:07:42,709 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:42,715 p=12336 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:07:43,901 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:43,907 p=12336 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:07:45,079 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:45,085 p=12336 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:07:46,069 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:07:46,076 p=12336 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:07:46,107 p=12336 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:07:46,112 p=12336 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:08:14,477 p=12336 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 00:08:14,483 p=12336 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:08:15,773 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:08:15,779 p=12336 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:08:16,800 p=12336 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:08:16,806 p=12336 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:08:17,187 p=12336 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 00:08:17,194 p=12336 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:08:17,440 p=12336 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 00:08:17,449 p=12336 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:08:17,456 p=12336 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:08:17,495 p=12336 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:08:17,499 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:08:17,504 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:08:17,509 p=12336 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:08:18,918 p=12336 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:08:18,939 p=12336 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:09:03,678 p=12336 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.70 port 22: Connection timed out", "unreachable": true}
2023-03-07 00:09:03,687 p=12336 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:09:03,694 p=12336 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:09:03,719 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:03,727 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:03,731 p=12336 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:09:03,753 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:03,762 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:03,766 p=12336 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:09:03,788 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:03,796 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:03,801 p=12336 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:09:04,498 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:04,503 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:04,508 p=12336 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:09:05,483 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:05,486 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:05,492 p=12336 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:09:11,171 p=12336 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:09:11,216 p=12336 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:09:11,221 p=12336 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:09:12,157 p=12336 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:12,177 p=12336 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:12,182 p=12336 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:09:16,876 p=12336 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:09:16,976 p=12336 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:09:16,986 p=12336 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:09:16,988 p=12336 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:09:16,988 p=12336 u=ubuntu n=ansible | localhost                  : ok=22   changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:09:16,988 p=12336 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:09:16,988 p=12336 u=ubuntu n=ansible | worker1                    : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:09:16,988 p=12336 u=ubuntu n=ansible | worker2                    : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:09:39,166 p=13027 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:09:39,179 p=13027 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:09:39,194 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:39,198 p=13027 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:09:40,896 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:40,903 p=13027 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:09:40,934 p=13027 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:09:40,940 p=13027 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:09:42,069 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:42,075 p=13027 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:09:43,068 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:43,074 p=13027 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:09:44,064 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:44,070 p=13027 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:09:45,147 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:45,154 p=13027 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:09:46,701 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:46,708 p=13027 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:09:46,745 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:46,751 p=13027 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:09:47,506 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:47,516 p=13027 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:09:47,523 p=13027 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:09:47,537 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:47,541 p=13027 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:09:47,554 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:47,559 p=13027 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:09:49,034 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:49,042 p=13027 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:09:50,227 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:50,233 p=13027 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:09:51,435 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:51,441 p=13027 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:09:52,631 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:52,637 p=13027 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:09:53,641 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:53,647 p=13027 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:09:53,678 p=13027 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:09:53,683 p=13027 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:09:54,874 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:54,880 p=13027 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:09:55,848 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:55,854 p=13027 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:09:56,826 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:56,832 p=13027 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:09:57,208 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:57,214 p=13027 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:09:57,461 p=13027 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:09:57,470 p=13027 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:09:57,478 p=13027 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:09:57,515 p=13027 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:09:57,518 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:57,527 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:57,531 p=13027 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:09:58,311 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:58,315 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:59,410 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:09:59,419 p=13027 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:09:59,426 p=13027 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:09:59,465 p=13027 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:09:59,467 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:59,475 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:59,479 p=13027 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:09:59,515 p=13027 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:09:59,520 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:59,526 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:59,531 p=13027 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:09:59,567 p=13027 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:09:59,569 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:09:59,579 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:09:59,583 p=13027 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:10:00,329 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:10:00,332 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:10:00,415 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:10:00,421 p=13027 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:10:01,456 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:10:01,467 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:10:01,777 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:10:01,783 p=13027 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:10:07,233 p=13027 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:10:07,250 p=13027 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:10:16,364 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:10:16,370 p=13027 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:10:17,423 p=13027 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:10:17,428 p=13027 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:10:17,570 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:10:17,575 p=13027 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:10:22,315 p=13027 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:10:22,349 p=13027 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:10:45,364 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:10:45,374 p=13027 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:10:45,381 p=13027 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:11:29,256 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:11:29,262 p=13027 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 00:11:29,969 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:11:29,975 p=13027 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 00:11:30,524 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:11:30,530 p=13027 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 00:11:31,215 p=13027 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:11:31,223 p=13027 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:11:31,224 p=13027 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:11:31,224 p=13027 u=ubuntu n=ansible | master                     : ok=14   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:11:31,224 p=13027 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:11:31,224 p=13027 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:31:26,458 p=13856 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:31:26,471 p=13856 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:31:26,486 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:26,491 p=13856 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:31:28,254 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:28,260 p=13856 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:31:28,291 p=13856 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:31:28,296 p=13856 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:31:29,431 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:29,437 p=13856 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:31:30,401 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:30,407 p=13856 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:31:31,478 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:31,484 p=13856 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:31:32,554 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:32,561 p=13856 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:31:34,143 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:34,150 p=13856 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:31:34,186 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:34,192 p=13856 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:31:34,874 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:34,884 p=13856 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:31:34,890 p=13856 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:31:34,904 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:34,909 p=13856 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:31:34,923 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:34,927 p=13856 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:31:36,381 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:36,388 p=13856 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:31:37,557 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:37,563 p=13856 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:31:38,769 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:38,775 p=13856 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:31:39,950 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:39,956 p=13856 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:31:40,948 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:40,955 p=13856 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:31:40,986 p=13856 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:31:40,992 p=13856 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:31:42,198 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:42,204 p=13856 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:31:43,230 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:43,236 p=13856 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:31:44,256 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:44,262 p=13856 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:31:44,639 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:44,645 p=13856 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:31:44,888 p=13856 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:31:44,898 p=13856 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:31:44,904 p=13856 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:31:44,944 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:44,946 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:44,951 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:44,955 p=13856 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:31:46,394 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:46,463 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:46,475 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:46,484 p=13856 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:31:46,491 p=13856 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:31:46,529 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:46,537 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:46,542 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:46,546 p=13856 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:31:46,584 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:46,589 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:46,595 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:46,600 p=13856 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:31:46,639 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:46,642 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:46,648 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:46,653 p=13856 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:31:47,360 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:47,381 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:47,402 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:47,407 p=13856 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:31:48,383 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:48,394 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:48,472 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:48,477 p=13856 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:31:48,673 p=13856 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:31:57,768 p=13856 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:31:57,772 p=13856 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:31:57,777 p=13856 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:31:58,755 p=13856 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:31:58,802 p=13856 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:31:58,807 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:31:58,812 p=13856 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:31:59,011 p=13856 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:32:03,548 p=13856 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:32:03,585 p=13856 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:32:03,595 p=13856 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:32:03,602 p=13856 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:32:04,158 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:32:04,163 p=13856 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 00:32:04,842 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:32:04,848 p=13856 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 00:32:05,539 p=13856 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:32:05,545 p=13856 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 00:32:06,232 p=13856 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:32:06,241 p=13856 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:32:06,241 p=13856 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:32:06,241 p=13856 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 00:32:06,241 p=13856 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:32:06,242 p=13856 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:35:30,224 p=14649 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:35:30,236 p=14649 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:35:30,252 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:30,257 p=14649 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:35:32,008 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:32,015 p=14649 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:35:32,048 p=14649 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:35:32,053 p=14649 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:35:33,199 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:33,205 p=14649 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:35:34,194 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:34,200 p=14649 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:35:35,186 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:35,192 p=14649 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:35:36,250 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:36,257 p=14649 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:35:37,723 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:37,731 p=14649 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:35:37,768 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:37,774 p=14649 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:35:38,529 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:38,540 p=14649 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:35:38,547 p=14649 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:35:38,560 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:38,565 p=14649 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:35:38,577 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:38,582 p=14649 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:35:40,086 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:40,093 p=14649 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:35:41,297 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:41,303 p=14649 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:35:42,486 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:42,493 p=14649 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:35:43,677 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:43,683 p=14649 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:35:44,687 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:44,694 p=14649 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:35:44,726 p=14649 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:35:44,732 p=14649 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:35:45,973 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:45,980 p=14649 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:35:47,010 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:47,017 p=14649 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:35:48,063 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:48,069 p=14649 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:35:48,447 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:48,453 p=14649 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:35:48,695 p=14649 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:35:48,704 p=14649 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:35:48,711 p=14649 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:35:48,749 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:48,751 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:48,758 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:48,763 p=14649 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:35:50,267 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:50,270 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:50,338 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:50,348 p=14649 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:35:50,355 p=14649 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:35:50,395 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:50,398 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:50,407 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:50,412 p=14649 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:35:50,451 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:50,454 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:50,459 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:50,464 p=14649 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:35:50,501 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:50,505 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:50,514 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:50,520 p=14649 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:35:51,278 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:51,280 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:51,290 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:51,296 p=14649 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:35:52,338 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:52,340 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:52,351 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:52,356 p=14649 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:35:52,557 p=14649 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:35:57,700 p=14649 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:35:57,816 p=14649 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:35:57,822 p=14649 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:35:58,879 p=14649 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:35:58,881 p=14649 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:35:58,888 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:35:58,893 p=14649 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:35:59,100 p=14649 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:36:03,626 p=14649 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:36:03,697 p=14649 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:36:03,707 p=14649 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:36:03,714 p=14649 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:36:04,276 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:36:04,282 p=14649 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 00:36:04,968 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:36:04,973 p=14649 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 00:36:05,661 p=14649 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:36:05,667 p=14649 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 00:36:06,355 p=14649 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:36:06,361 p=14649 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************************
2023-03-07 00:36:06,961 p=14649 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.065769", "end": "2023-03-07 00:36:06.892866", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 00:36:06.827097", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 00:36:06,962 p=14649 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:36:06,962 p=14649 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:36:06,963 p=14649 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 00:36:06,963 p=14649 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:36:06,963 p=14649 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:49:45,961 p=15467 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:49:45,973 p=15467 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:49:45,989 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:45,994 p=15467 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:49:47,803 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:47,810 p=15467 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:49:47,842 p=15467 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:49:47,847 p=15467 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:49:49,110 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:49,116 p=15467 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:49:50,082 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:50,088 p=15467 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:49:51,078 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:51,084 p=15467 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:49:52,154 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:52,161 p=15467 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:49:53,703 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:53,710 p=15467 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:49:53,746 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:53,752 p=15467 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:49:54,479 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:54,489 p=15467 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:49:54,495 p=15467 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:49:54,508 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:54,513 p=15467 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:49:54,527 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:54,532 p=15467 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:49:56,004 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:56,012 p=15467 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:49:57,180 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:57,186 p=15467 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:49:58,468 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:58,473 p=15467 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:49:59,641 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:49:59,647 p=15467 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:50:00,648 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:50:00,655 p=15467 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:50:00,686 p=15467 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:50:00,691 p=15467 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:50:02,056 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:50:02,063 p=15467 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:50:03,707 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:50:03,713 p=15467 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:50:04,772 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:50:04,777 p=15467 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:50:05,146 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:50:05,152 p=15467 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:50:05,391 p=15467 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:50:05,400 p=15467 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:50:05,407 p=15467 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:50:05,443 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:05,447 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:05,456 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:05,460 p=15467 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:50:06,932 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:06,935 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:07,003 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:07,012 p=15467 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:50:07,019 p=15467 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:50:07,056 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:07,061 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:07,067 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:07,072 p=15467 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:50:07,111 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:07,115 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:07,122 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:07,127 p=15467 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:50:07,171 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:07,173 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:07,178 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:07,182 p=15467 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:50:07,890 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:07,908 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:07,934 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:07,939 p=15467 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:50:08,991 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:08,993 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:09,033 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:09,040 p=15467 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:50:09,250 p=15467 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:50:15,141 p=15467 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:50:15,157 p=15467 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:50:15,163 p=15467 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:50:16,161 p=15467 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:50:16,199 p=15467 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:50:16,221 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:16,225 p=15467 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:50:16,430 p=15467 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:50:20,894 p=15467 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:50:20,937 p=15467 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:50:20,948 p=15467 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:50:20,955 p=15467 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:50:21,520 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:21,526 p=15467 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 00:50:22,226 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:22,232 p=15467 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 00:50:22,922 p=15467 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:50:22,927 p=15467 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 00:50:23,618 p=15467 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:50:23,624 p=15467 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************************
2023-03-07 00:50:24,231 p=15467 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.063886", "end": "2023-03-07 00:50:24.162733", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 00:50:24.098847", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 00:50:24,233 p=15467 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:50:24,233 p=15467 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:50:24,233 p=15467 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 00:50:24,233 p=15467 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:50:24,234 p=15467 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:53:02,666 p=16271 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:53:02,678 p=16271 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:53:02,693 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:02,698 p=16271 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:53:04,456 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:04,462 p=16271 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:53:04,493 p=16271 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:53:04,498 p=16271 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:53:05,617 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:05,624 p=16271 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:53:06,644 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:06,650 p=16271 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:53:07,634 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:07,640 p=16271 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:53:08,698 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:08,705 p=16271 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:53:10,239 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:10,247 p=16271 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:53:10,284 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:10,290 p=16271 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:53:11,040 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:11,050 p=16271 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:53:11,057 p=16271 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:53:11,070 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:11,075 p=16271 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:53:11,087 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:11,092 p=16271 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:53:12,598 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:12,605 p=16271 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:53:13,834 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:13,841 p=16271 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:53:15,044 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:15,050 p=16271 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:53:16,222 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:16,229 p=16271 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:53:17,230 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:17,237 p=16271 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:53:17,268 p=16271 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:53:17,273 p=16271 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:53:18,493 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:18,500 p=16271 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:53:19,529 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:19,536 p=16271 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:53:20,563 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:20,569 p=16271 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:53:20,940 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:20,946 p=16271 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:53:21,188 p=16271 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:53:21,197 p=16271 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:53:21,204 p=16271 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:53:21,241 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:21,243 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:21,250 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:21,255 p=16271 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:53:22,691 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:22,704 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:22,800 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:22,810 p=16271 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:53:22,817 p=16271 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:53:22,855 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:22,859 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:22,867 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:22,872 p=16271 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:53:22,912 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:22,914 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:22,919 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:22,924 p=16271 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:53:22,965 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:22,967 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:22,973 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:22,977 p=16271 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:53:23,720 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:23,723 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:23,730 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:23,735 p=16271 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:53:24,759 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:24,764 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:24,777 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:24,782 p=16271 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:53:24,979 p=16271 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:53:30,397 p=16271 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:53:30,488 p=16271 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:53:30,493 p=16271 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:53:31,505 p=16271 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:53:31,516 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:31,517 p=16271 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:53:31,524 p=16271 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:53:31,721 p=16271 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:53:36,127 p=16271 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:53:36,224 p=16271 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:53:36,234 p=16271 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:53:36,241 p=16271 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:53:36,778 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:36,784 p=16271 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 00:53:37,451 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:37,456 p=16271 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 00:53:38,127 p=16271 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:53:38,133 p=16271 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 00:53:38,801 p=16271 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:53:38,806 p=16271 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************************
2023-03-07 00:53:39,390 p=16271 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.068664", "end": "2023-03-07 00:53:39.325191", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 00:53:39.256527", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 00:53:39,391 p=16271 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:53:39,392 p=16271 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:53:39,392 p=16271 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 00:53:39,392 p=16271 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:53:39,392 p=16271 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:54:46,802 p=17071 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 00:54:46,814 p=17071 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 00:54:46,829 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:46,834 p=17071 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 00:54:48,442 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:48,448 p=17071 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 00:54:48,481 p=17071 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 00:54:48,486 p=17071 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 00:54:49,577 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:49,584 p=17071 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 00:54:50,546 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:50,552 p=17071 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 00:54:51,483 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:51,489 p=17071 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 00:54:52,518 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:52,524 p=17071 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 00:54:53,959 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:53,966 p=17071 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 00:54:54,004 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:54,009 p=17071 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 00:54:54,752 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:54,762 p=17071 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 00:54:54,768 p=17071 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 00:54:54,781 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:54,786 p=17071 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 00:54:54,798 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:54,803 p=17071 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 00:54:56,149 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:56,156 p=17071 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 00:54:57,313 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:57,319 p=17071 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:54:58,481 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:58,488 p=17071 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 00:54:59,661 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:54:59,668 p=17071 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 00:55:00,652 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:55:00,659 p=17071 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 00:55:00,690 p=17071 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 00:55:00,695 p=17071 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 00:55:01,847 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:55:01,854 p=17071 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:55:03,280 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:55:03,286 p=17071 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 00:55:04,264 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:55:04,270 p=17071 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 00:55:04,655 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:55:04,661 p=17071 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 00:55:04,913 p=17071 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 00:55:04,924 p=17071 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 00:55:04,931 p=17071 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 00:55:04,971 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:04,975 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:04,981 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:04,987 p=17071 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 00:55:06,494 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:06,497 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:06,567 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:06,576 p=17071 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:55:06,583 p=17071 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:55:06,625 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:06,626 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:06,634 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:06,640 p=17071 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:55:06,679 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:06,682 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:06,690 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:06,694 p=17071 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 00:55:06,731 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:06,734 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:06,743 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:06,748 p=17071 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 00:55:07,501 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:07,502 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:07,511 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:07,517 p=17071 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 00:55:08,502 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:08,542 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:08,574 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:08,580 p=17071 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 00:55:08,780 p=17071 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:55:13,950 p=17071 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:55:14,058 p=17071 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:55:14,064 p=17071 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 00:55:15,079 p=17071 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 00:55:15,084 p=17071 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 00:55:15,131 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:15,137 p=17071 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 00:55:15,346 p=17071 u=ubuntu n=ansible | skipping: [master]
2023-03-07 00:55:19,766 p=17071 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 00:55:19,859 p=17071 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 00:55:19,869 p=17071 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 00:55:19,877 p=17071 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 00:55:20,441 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:20,447 p=17071 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 00:55:21,147 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:21,153 p=17071 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 00:55:21,843 p=17071 u=ubuntu n=ansible | ok: [master]
2023-03-07 00:55:21,848 p=17071 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 00:55:22,567 p=17071 u=ubuntu n=ansible | changed: [master]
2023-03-07 00:55:22,572 p=17071 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************************
2023-03-07 00:55:23,206 p=17071 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.087373", "end": "2023-03-07 00:55:23.136199", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 00:55:23.048826", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 00:55:23,207 p=17071 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 00:55:23,207 p=17071 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 00:55:23,208 p=17071 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 00:55:23,208 p=17071 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 00:55:23,208 p=17071 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:36:20,982 p=1055 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 16:36:21,018 p=1055 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 16:36:21,034 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:21,039 p=1055 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 16:36:23,931 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:23,938 p=1055 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 16:36:23,969 p=1055 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 16:36:23,974 p=1055 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 16:36:25,167 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:25,173 p=1055 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 16:36:26,178 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:26,184 p=1055 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 16:36:27,192 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:27,197 p=1055 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 16:36:28,285 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:28,291 p=1055 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 16:36:29,838 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:29,846 p=1055 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 16:36:29,883 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:29,889 p=1055 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 16:36:30,701 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:30,712 p=1055 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 16:36:30,718 p=1055 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 16:36:30,731 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:30,736 p=1055 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 16:36:30,750 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:30,755 p=1055 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 16:36:32,258 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:32,266 p=1055 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 16:36:33,499 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:33,505 p=1055 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 16:36:34,692 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:34,697 p=1055 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 16:36:35,861 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:35,867 p=1055 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 16:36:36,863 p=1055 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:36:36,870 p=1055 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 16:36:36,901 p=1055 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 16:36:36,906 p=1055 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 16:37:05,189 p=1055 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 16:37:05,196 p=1055 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 16:37:23,444 p=1055 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 16:37:23,450 p=1055 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 16:37:42,350 p=1055 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 16:37:42,356 p=1055 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 16:37:42,734 p=1055 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 16:37:42,739 p=1055 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 16:37:42,983 p=1055 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 16:37:42,993 p=1055 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 16:37:43,000 p=1055 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 16:37:43,041 p=1055 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:37:43,043 p=1055 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:37:43,049 p=1055 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:37:43,054 p=1055 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 16:38:29,211 p=1055 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.215 port 22: Connection timed out", "unreachable": true}
2023-03-07 16:38:29,222 p=1055 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.212 port 22: Connection timed out", "unreachable": true}
2023-03-07 16:38:29,231 p=1055 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.20 port 22: Connection timed out", "unreachable": true}
2023-03-07 16:38:29,232 p=1055 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 16:38:29,232 p=1055 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 16:38:29,233 p=1055 u=ubuntu n=ansible | master                     : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:38:29,233 p=1055 u=ubuntu n=ansible | worker1                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:38:29,233 p=1055 u=ubuntu n=ansible | worker2                    : ok=1    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:38:34,257 p=1607 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 16:38:34,271 p=1607 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 16:38:34,286 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:34,291 p=1607 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 16:38:36,107 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:36,113 p=1607 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 16:38:36,145 p=1607 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 16:38:36,150 p=1607 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 16:38:37,318 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:37,325 p=1607 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 16:38:38,313 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:38,319 p=1607 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 16:38:39,295 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:39,301 p=1607 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 16:38:40,374 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:40,381 p=1607 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 16:38:41,925 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:41,933 p=1607 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 16:38:41,970 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:41,976 p=1607 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 16:38:42,680 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:42,690 p=1607 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 16:38:42,697 p=1607 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 16:38:42,710 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:42,715 p=1607 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 16:38:42,729 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:42,733 p=1607 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 16:38:44,226 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:44,232 p=1607 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 16:38:45,405 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:45,412 p=1607 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 16:38:46,596 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:46,602 p=1607 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 16:38:47,800 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:47,807 p=1607 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 16:38:48,804 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:48,811 p=1607 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 16:38:48,843 p=1607 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 16:38:48,848 p=1607 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 16:38:50,041 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:50,048 p=1607 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 16:38:51,064 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:51,069 p=1607 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 16:38:52,025 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:52,031 p=1607 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 16:38:52,410 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:52,416 p=1607 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 16:38:52,664 p=1607 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:38:52,674 p=1607 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 16:38:52,681 p=1607 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 16:38:52,719 p=1607 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:38:52,722 p=1607 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:38:52,731 p=1607 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:38:52,736 p=1607 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 16:38:54,435 p=1607 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:38:54,760 p=1607 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:38:55,004 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:38:55,014 p=1607 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 16:38:55,021 p=1607 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 16:38:55,059 p=1607 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:38:55,062 p=1607 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:38:55,071 p=1607 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:38:55,076 p=1607 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 16:38:55,117 p=1607 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:38:55,119 p=1607 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:38:55,125 p=1607 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:38:55,130 p=1607 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 16:38:55,167 p=1607 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:38:55,170 p=1607 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:38:55,179 p=1607 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:38:55,185 p=1607 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 16:38:55,958 p=1607 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:38:55,961 p=1607 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:38:55,964 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:38:55,969 p=1607 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 16:38:57,339 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:38:57,340 p=1607 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:38:57,345 p=1607 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:38:57,365 p=1607 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 16:39:11,510 p=1607 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:39:11,530 p=1607 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:39:11,538 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:39:11,544 p=1607 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 16:39:12,713 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:39:12,768 p=1607 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:39:12,771 p=1607 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:39:12,776 p=1607 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 16:39:36,657 p=1607 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:39:37,478 p=1607 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:39:40,188 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:39:40,199 p=1607 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 16:39:40,207 p=1607 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 16:40:24,763 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:40:24,768 p=1607 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 16:40:25,468 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:40:25,474 p=1607 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 16:40:26,016 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:40:26,021 p=1607 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 16:40:26,725 p=1607 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:40:26,730 p=1607 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************************
2023-03-07 16:40:27,384 p=1607 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.078078", "end": "2023-03-07 16:40:27.281732", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 16:40:27.203654", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 16:40:27,385 p=1607 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 16:40:27,385 p=1607 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 16:40:27,385 p=1607 u=ubuntu n=ansible | master                     : ok=14   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 16:40:27,386 p=1607 u=ubuntu n=ansible | worker1                    : ok=10   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:40:27,386 p=1607 u=ubuntu n=ansible | worker2                    : ok=10   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:42:40,390 p=2435 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************************
2023-03-07 16:42:40,403 p=2435 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************************
2023-03-07 16:42:40,418 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:40,423 p=2435 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************************
2023-03-07 16:42:42,379 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:42,385 p=2435 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************************
2023-03-07 16:42:42,416 p=2435 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 16:42:42,422 p=2435 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************************
2023-03-07 16:42:43,544 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:43,550 p=2435 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************************
2023-03-07 16:42:44,551 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:44,557 p=2435 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************************
2023-03-07 16:42:45,548 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:45,554 p=2435 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************************
2023-03-07 16:42:46,732 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:46,739 p=2435 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************************
2023-03-07 16:42:48,280 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:48,287 p=2435 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************************
2023-03-07 16:42:48,324 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:48,329 p=2435 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************************
2023-03-07 16:42:49,070 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:49,080 p=2435 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instancesd for master and worker-nodes] ***************************************************************************
2023-03-07 16:42:49,087 p=2435 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************************
2023-03-07 16:42:49,101 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:49,106 p=2435 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************************
2023-03-07 16:42:49,120 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:49,125 p=2435 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************************
2023-03-07 16:42:50,678 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:50,686 p=2435 u=ubuntu n=ansible | TASK [Update security group to allow traffic within itself] ***********************************************************************************************
2023-03-07 16:42:51,857 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:51,863 p=2435 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 16:42:53,064 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:53,070 p=2435 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************************
2023-03-07 16:42:54,237 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:54,243 p=2435 u=ubuntu n=ansible | TASK [create key pair for all clusternodes] ***************************************************************************************************************
2023-03-07 16:42:55,261 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:55,267 p=2435 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************************
2023-03-07 16:42:55,299 p=2435 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 16:42:55,304 p=2435 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************************
2023-03-07 16:42:56,500 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:56,507 p=2435 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 16:42:57,516 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:57,521 p=2435 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************************
2023-03-07 16:42:58,531 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:58,537 p=2435 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************************
2023-03-07 16:42:58,914 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:58,920 p=2435 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************************
2023-03-07 16:42:59,163 p=2435 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 16:42:59,173 p=2435 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************************
2023-03-07 16:42:59,179 p=2435 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************************
2023-03-07 16:42:59,221 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:42:59,223 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:42:59,228 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:42:59,233 p=2435 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************************
2023-03-07 16:43:00,763 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:00,776 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:00,783 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:00,792 p=2435 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 16:43:00,799 p=2435 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 16:43:00,837 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:00,844 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:00,850 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:00,854 p=2435 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 16:43:00,892 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:00,895 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:00,901 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:00,905 p=2435 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************************
2023-03-07 16:43:00,943 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:00,945 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:00,953 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:00,957 p=2435 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************************
2023-03-07 16:43:01,718 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:01,727 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:01,731 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:01,737 p=2435 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************************
2023-03-07 16:43:02,823 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:02,828 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:02,923 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:02,929 p=2435 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************************
2023-03-07 16:43:03,129 p=2435 u=ubuntu n=ansible | skipping: [master]
2023-03-07 16:43:10,142 p=2435 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:43:11,062 p=2435 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:43:11,067 p=2435 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************************
2023-03-07 16:43:12,086 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:12,125 p=2435 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 16:43:12,130 p=2435 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 16:43:12,134 p=2435 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************************
2023-03-07 16:43:12,335 p=2435 u=ubuntu n=ansible | skipping: [master]
2023-03-07 16:43:17,067 p=2435 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 16:43:17,188 p=2435 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 16:43:17,200 p=2435 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************************
2023-03-07 16:43:17,207 p=2435 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************************
2023-03-07 16:43:17,749 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:17,754 p=2435 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************************
2023-03-07 16:43:18,422 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:18,428 p=2435 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************************
2023-03-07 16:43:19,093 p=2435 u=ubuntu n=ansible | ok: [master]
2023-03-07 16:43:19,099 p=2435 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************************
2023-03-07 16:43:19,771 p=2435 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:43:19,776 p=2435 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************************
2023-03-07 16:43:20,365 p=2435 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.058990", "end": "2023-03-07 16:43:20.298668", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 16:43:20.239678", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 16:43:20,366 p=2435 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 16:43:20,366 p=2435 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 16:43:20,366 p=2435 u=ubuntu n=ansible | master                     : ok=12   changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 16:43:20,366 p=2435 u=ubuntu n=ansible | worker1                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:43:20,367 p=2435 u=ubuntu n=ansible | worker2                    : ok=10   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:52:10,416 p=3246 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 16:52:10,429 p=3246 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 16:52:12,059 p=3246 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:52:12,065 p=3246 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 16:52:12,099 p=3246 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw": {
        "ansible_facts": {
            "discovered_interpreter_python": "/usr/bin/python3"
        },
        "changed": true,
        "cmd": "kubeadm token create --print-join-command",
        "delta": "0:00:00.067801",
        "end": "2023-03-07 16:52:11.988810",
        "failed": false,
        "rc": 0,
        "start": "2023-03-07 16:52:11.921009",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "kubeadm join 161.20.1.139:6443 --token 1qxg7t.e6ywhqm7w15zxmmh --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 ",
        "stdout_lines": [
            "kubeadm join 161.20.1.139:6443 --token 1qxg7t.e6ywhqm7w15zxmmh --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
        ]
    }
}
2023-03-07 16:52:12,108 p=3246 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 16:52:12,108 p=3246 u=ubuntu n=ansible | master                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 16:53:54,828 p=3272 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 16:53:54,841 p=3272 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 16:53:56,473 p=3272 u=ubuntu n=ansible | changed: [master]
2023-03-07 16:53:56,479 p=3272 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 16:53:56,511 p=3272 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw.stdout_lines[0]": "kubeadm join 161.20.1.139:6443 --token nwuurk.5htpn059plbt5rl9 --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 16:53:56,519 p=3272 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 16:53:56,519 p=3272 u=ubuntu n=ansible | master                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 17:03:07,414 p=3308 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 17:03:07,427 p=3308 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 17:03:09,047 p=3308 u=ubuntu n=ansible | changed: [master]
2023-03-07 17:03:09,053 p=3308 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 17:03:09,086 p=3308 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw.stdout_lines[0]": "kubeadm join 161.20.1.139:6443 --token lejzvo.7mcjg6wz3pf76tt4 --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 17:03:09,096 p=3308 u=ubuntu n=ansible | PLAY [This playbook is to run the comman to join worker nodes to kubenetes cluster] ***********************************************************************
2023-03-07 17:03:09,103 p=3308 u=ubuntu n=ansible | TASK [join cluster] ***************************************************************************************************************************************
2023-03-07 17:03:09,239 p=3308 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command_raw' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 19, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:03:09,242 p=3308 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command_raw' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 19, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:03:09,243 p=3308 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 17:03:09,243 p=3308 u=ubuntu n=ansible | master                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 17:03:09,243 p=3308 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:03:09,243 p=3308 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:10,403 p=3340 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 17:05:10,416 p=3340 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 17:05:12,032 p=3340 u=ubuntu n=ansible | changed: [master]
2023-03-07 17:05:12,038 p=3340 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 17:05:12,070 p=3340 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw.stdout_lines[0]": "kubeadm join 161.20.1.139:6443 --token 72pknd.mbw8qo9154xmkvpb --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 17:05:12,076 p=3340 u=ubuntu n=ansible | TASK [set_fact] *******************************************************************************************************************************************
2023-03-07 17:05:12,133 p=3340 u=ubuntu n=ansible | ok: [master]
2023-03-07 17:05:12,160 p=3340 u=ubuntu n=ansible | PLAY [This playbook is to run the comman to join worker nodes to kubenetes cluster] ***********************************************************************
2023-03-07 17:05:12,167 p=3340 u=ubuntu n=ansible | TASK [join cluster] ***************************************************************************************************************************************
2023-03-07 17:05:12,225 p=3340 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_comman' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 22, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:05:12,230 p=3340 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_comman' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 22, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:05:12,231 p=3340 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 17:05:12,232 p=3340 u=ubuntu n=ansible | master                     : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:12,232 p=3340 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:12,232 p=3340 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:36,237 p=3370 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 17:05:36,250 p=3370 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 17:05:37,106 p=3370 u=ubuntu n=ansible | changed: [master]
2023-03-07 17:05:37,112 p=3370 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 17:05:37,144 p=3370 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw.stdout_lines[0]": "kubeadm join 161.20.1.139:6443 --token 9nbzg7.i2gbrbjh3hfe7lt4 --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 17:05:37,150 p=3370 u=ubuntu n=ansible | TASK [set_fact] *******************************************************************************************************************************************
2023-03-07 17:05:37,181 p=3370 u=ubuntu n=ansible | ok: [master]
2023-03-07 17:05:37,191 p=3370 u=ubuntu n=ansible | PLAY [This playbook is to run the comman to join worker nodes to kubenetes cluster] ***********************************************************************
2023-03-07 17:05:37,198 p=3370 u=ubuntu n=ansible | TASK [join cluster] ***************************************************************************************************************************************
2023-03-07 17:05:37,254 p=3370 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 22, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:05:37,261 p=3370 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 22, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:05:37,262 p=3370 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 17:05:37,262 p=3370 u=ubuntu n=ansible | master                     : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:37,262 p=3370 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:37,262 p=3370 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:50,088 p=3395 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 17:05:50,101 p=3395 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 17:05:50,957 p=3395 u=ubuntu n=ansible | changed: [master]
2023-03-07 17:05:50,963 p=3395 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 17:05:50,996 p=3395 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw.stdout_lines[0]": "kubeadm join 161.20.1.139:6443 --token m218aj.o66phpqus3akkiid --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 17:05:51,002 p=3395 u=ubuntu n=ansible | TASK [set_fact] *******************************************************************************************************************************************
2023-03-07 17:05:51,033 p=3395 u=ubuntu n=ansible | ok: [master]
2023-03-07 17:05:51,043 p=3395 u=ubuntu n=ansible | PLAY [This playbook is to run the comman to join worker nodes to kubenetes cluster] ***********************************************************************
2023-03-07 17:05:51,050 p=3395 u=ubuntu n=ansible | TASK [join cluster] ***************************************************************************************************************************************
2023-03-07 17:05:51,105 p=3395 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 22, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:05:51,113 p=3395 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 22, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:05:51,114 p=3395 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 17:05:51,114 p=3395 u=ubuntu n=ansible | master                     : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:51,114 p=3395 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:05:51,114 p=3395 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:10:26,868 p=3438 u=ubuntu n=ansible | PLAY [mastergrp] ******************************************************************************************************************************************
2023-03-07 17:10:26,881 p=3438 u=ubuntu n=ansible | TASK [get join command] ***********************************************************************************************************************************
2023-03-07 17:10:28,519 p=3438 u=ubuntu n=ansible | changed: [master]
2023-03-07 17:10:28,525 p=3438 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 17:10:28,600 p=3438 u=ubuntu n=ansible | ok: [master] => {
    "join_command_raw.stdout_lines[0]": "kubeadm join 161.20.1.139:6443 --token vy3jin.z0dlw9dfat23mzaa --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 17:10:28,604 p=3438 u=ubuntu n=ansible | TASK [set_fact] *******************************************************************************************************************************************
2023-03-07 17:10:28,636 p=3438 u=ubuntu n=ansible | ok: [master]
2023-03-07 17:10:28,642 p=3438 u=ubuntu n=ansible | TASK [debug] **********************************************************************************************************************************************
2023-03-07 17:10:28,673 p=3438 u=ubuntu n=ansible | ok: [master] => {
    "join_command": "kubeadm join 161.20.1.139:6443 --token vy3jin.z0dlw9dfat23mzaa --discovery-token-ca-cert-hash sha256:31ea4f7714cdadeeca4402a427581ab50e5ae7e25fb9295c4222ff31545cc495 "
}
2023-03-07 17:10:28,683 p=3438 u=ubuntu n=ansible | PLAY [This playbook is to run the comman to join worker nodes to kubenetes cluster] ***********************************************************************
2023-03-07 17:10:28,690 p=3438 u=ubuntu n=ansible | TASK [join cluster] ***************************************************************************************************************************************
2023-03-07 17:10:28,746 p=3438 u=ubuntu n=ansible | fatal: [worker1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 23, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:10:28,753 p=3438 u=ubuntu n=ansible | fatal: [worker2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'join_command' is undefined\n\nThe error appears to be in '/home/ubuntu/k8s-automation/worker.yaml': line 23, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n  - name: join cluster\n    ^ here\n"}
2023-03-07 17:10:28,754 p=3438 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************************
2023-03-07 17:10:28,754 p=3438 u=ubuntu n=ansible | master                     : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 17:10:28,754 p=3438 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 17:10:28,754 p=3438 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 18:28:10,016 p=4059 u=ubuntu n=ansible | [WARNING]: Could not match supplied host pattern, ignoring: version

2023-03-07 18:28:10,022 p=4059 u=ubuntu n=ansible | [WARNING]: No hosts matched, nothing to do

2023-03-07 18:28:10,026 p=4059 u=ubuntu n=ansible | ERROR! No argument passed to command module
2023-03-07 18:28:49,560 p=4061 u=ubuntu n=ansible | [WARNING]: Could not match supplied host pattern, ignoring: version

2023-03-07 18:28:49,560 p=4061 u=ubuntu n=ansible | [WARNING]: No hosts matched, nothing to do

2023-03-07 18:28:49,566 p=4061 u=ubuntu n=ansible | ERROR! No argument passed to command module
2023-03-07 18:31:57,773 p=4078 u=ubuntu n=ansible | ERROR! Unable to retrieve file contents
Could not find or access '/home/ubuntu/k8s-automation/cluster.yaml' on the Ansible Controller.
If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-03-07 18:33:17,368 p=4088 u=ubuntu n=ansible | ERROR! Unable to retrieve file contents
Could not find or access '/home/ubuntu/k8s-automation/cluster.yaml' on the Ansible Controller.
If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-03-07 18:34:26,156 p=4094 u=ubuntu n=ansible | ERROR! Unable to retrieve file contents
Could not find or access '/home/ubuntu/k8s-automation/nodesinstall.yaml' on the Ansible Controller.
If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-03-07 18:34:50,335 p=4099 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************
2023-03-07 18:34:50,347 p=4099 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************
2023-03-07 18:34:50,363 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:50,368 p=4099 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************
2023-03-07 18:34:52,261 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:52,267 p=4099 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************
2023-03-07 18:34:52,299 p=4099 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 18:34:52,304 p=4099 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************
2023-03-07 18:34:53,468 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:53,476 p=4099 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************
2023-03-07 18:34:54,480 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:54,486 p=4099 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************
2023-03-07 18:34:55,504 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:55,510 p=4099 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************
2023-03-07 18:34:56,586 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:56,593 p=4099 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************
2023-03-07 18:34:58,136 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:58,143 p=4099 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************
2023-03-07 18:34:58,180 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:58,186 p=4099 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************
2023-03-07 18:34:58,936 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:58,946 p=4099 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instances for master and worker-nodes] ****************************************************************
2023-03-07 18:34:58,953 p=4099 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************
2023-03-07 18:34:58,967 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:58,972 p=4099 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************
2023-03-07 18:34:58,986 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:34:58,991 p=4099 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************
2023-03-07 18:35:00,493 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:35:00,501 p=4099 u=ubuntu n=ansible | TASK [Update master node security group to allow traffic within itself] ***********************************************************************
2023-03-07 18:35:02,275 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:35:02,282 p=4099 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************
2023-03-07 18:35:03,996 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:35:04,003 p=4099 u=ubuntu n=ansible | TASK [Update worker node security group to allow traffic within itself] ***********************************************************************
2023-03-07 18:35:05,268 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:35:05,274 p=4099 u=ubuntu n=ansible | TASK [Create key pair for all clusternodes] ***************************************************************************************************
2023-03-07 18:35:06,292 p=4099 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:35:06,298 p=4099 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************
2023-03-07 18:35:06,329 p=4099 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 18:35:06,335 p=4099 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************
2023-03-07 18:35:29,571 p=4099 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:35:29,578 p=4099 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 18:35:47,711 p=4099 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:35:47,717 p=4099 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 18:36:05,624 p=4099 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:36:05,630 p=4099 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************
2023-03-07 18:36:06,020 p=4099 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:36:06,026 p=4099 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************
2023-03-07 18:36:06,276 p=4099 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:36:06,286 p=4099 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************
2023-03-07 18:36:06,291 p=4099 u=ubuntu n=ansible | TASK [Gathering Facts] ************************************************************************************************************************
2023-03-07 18:36:52,395 p=4099 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.139 port 22: Connection timed out", "unreachable": true}
2023-03-07 18:36:52,403 p=4099 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.163 port 22: Connection timed out", "unreachable": true}
2023-03-07 18:36:52,410 p=4099 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.227 port 22: Connection timed out", "unreachable": true}
2023-03-07 18:36:52,411 p=4099 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************
2023-03-07 18:36:52,411 p=4099 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 18:36:52,411 p=4099 u=ubuntu n=ansible | master                     : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 18:36:52,412 p=4099 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 18:36:52,412 p=4099 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 18:38:58,549 p=4655 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************
2023-03-07 18:38:58,562 p=4655 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************
2023-03-07 18:38:58,577 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:38:58,582 p=4655 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************
2023-03-07 18:39:00,397 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:00,404 p=4655 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************
2023-03-07 18:39:00,436 p=4655 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 18:39:00,442 p=4655 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************
2023-03-07 18:39:01,621 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:01,629 p=4655 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************
2023-03-07 18:39:02,696 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:02,702 p=4655 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************
2023-03-07 18:39:03,702 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:03,708 p=4655 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************
2023-03-07 18:39:04,920 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:04,927 p=4655 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************
2023-03-07 18:39:06,480 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:06,487 p=4655 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************
2023-03-07 18:39:06,526 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:06,531 p=4655 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************
2023-03-07 18:39:07,272 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:07,282 p=4655 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instances for master and worker-nodes] ****************************************************************
2023-03-07 18:39:07,289 p=4655 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************
2023-03-07 18:39:07,303 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:07,307 p=4655 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************
2023-03-07 18:39:07,321 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:07,326 p=4655 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************
2023-03-07 18:39:08,840 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:08,847 p=4655 u=ubuntu n=ansible | TASK [Update master node security group to allow traffic within itself] ***********************************************************************
2023-03-07 18:39:10,030 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:10,036 p=4655 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************
2023-03-07 18:39:11,243 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:11,249 p=4655 u=ubuntu n=ansible | TASK [Update worker node security group to allow traffic within itself] ***********************************************************************
2023-03-07 18:39:12,473 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:12,480 p=4655 u=ubuntu n=ansible | TASK [Create key pair for all clusternodes] ***************************************************************************************************
2023-03-07 18:39:13,486 p=4655 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 18:39:13,493 p=4655 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************
2023-03-07 18:39:13,525 p=4655 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 18:39:13,530 p=4655 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************
2023-03-07 18:39:41,682 p=4655 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:39:41,689 p=4655 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 18:39:59,656 p=4655 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:39:59,663 p=4655 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 18:40:17,888 p=4655 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:40:17,894 p=4655 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************
2023-03-07 18:40:18,284 p=4655 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:40:18,291 p=4655 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************
2023-03-07 18:40:18,542 p=4655 u=ubuntu n=ansible | changed: [localhost]
2023-03-07 18:40:18,552 p=4655 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************
2023-03-07 18:40:18,557 p=4655 u=ubuntu n=ansible | TASK [Gathering Facts] ************************************************************************************************************************
2023-03-07 18:41:04,651 p=4655 u=ubuntu n=ansible | fatal: [master]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.209 port 22: Connection timed out", "unreachable": true}
2023-03-07 18:41:04,675 p=4655 u=ubuntu n=ansible | fatal: [worker1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.109 port 22: Connection timed out", "unreachable": true}
2023-03-07 18:41:04,682 p=4655 u=ubuntu n=ansible | fatal: [worker2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 161.20.1.44 port 22: Connection timed out", "unreachable": true}
2023-03-07 18:41:04,682 p=4655 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************
2023-03-07 18:41:04,683 p=4655 u=ubuntu n=ansible | localhost                  : ok=22   changed=5    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 18:41:04,683 p=4655 u=ubuntu n=ansible | master                     : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 18:41:04,683 p=4655 u=ubuntu n=ansible | worker1                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 18:41:04,683 p=4655 u=ubuntu n=ansible | worker2                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 19:01:00,746 p=5223 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************
2023-03-07 19:01:00,758 p=5223 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************
2023-03-07 19:01:00,773 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:00,779 p=5223 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************
2023-03-07 19:01:02,885 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:02,891 p=5223 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************
2023-03-07 19:01:02,924 p=5223 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 19:01:02,930 p=5223 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************
2023-03-07 19:01:04,170 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:04,176 p=5223 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************
2023-03-07 19:01:05,172 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:05,179 p=5223 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************
2023-03-07 19:01:06,243 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:06,249 p=5223 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************
2023-03-07 19:01:07,336 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:07,343 p=5223 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************
2023-03-07 19:01:08,903 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:08,910 p=5223 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************
2023-03-07 19:01:08,947 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:08,953 p=5223 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************
2023-03-07 19:01:09,697 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:09,707 p=5223 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instances for master and worker-nodes] ****************************************************************
2023-03-07 19:01:09,713 p=5223 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************
2023-03-07 19:01:09,726 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:09,732 p=5223 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************
2023-03-07 19:01:09,746 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:09,751 p=5223 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************
2023-03-07 19:01:11,254 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:11,262 p=5223 u=ubuntu n=ansible | TASK [Update master node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:01:12,459 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:12,465 p=5223 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************
2023-03-07 19:01:13,739 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:13,745 p=5223 u=ubuntu n=ansible | TASK [Update worker node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:01:14,928 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:14,935 p=5223 u=ubuntu n=ansible | TASK [Create key pair for all clusternodes] ***************************************************************************************************
2023-03-07 19:01:15,940 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:15,947 p=5223 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************
2023-03-07 19:01:15,977 p=5223 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 19:01:15,983 p=5223 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************
2023-03-07 19:01:17,235 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:17,242 p=5223 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:01:18,341 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:18,347 p=5223 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:01:19,373 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:19,379 p=5223 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************
2023-03-07 19:01:19,762 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:19,768 p=5223 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************
2023-03-07 19:01:20,015 p=5223 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:01:20,025 p=5223 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************
2023-03-07 19:01:20,029 p=5223 u=ubuntu n=ansible | TASK [Gathering Facts] ************************************************************************************************************************
2023-03-07 19:01:22,806 p=5223 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:01:22,813 p=5223 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:01:24,111 p=5223 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:01:24,126 p=5223 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************
2023-03-07 19:01:24,175 p=5223 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:01:24,176 p=5223 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:01:24,182 p=5223 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:01:24,192 p=5223 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************
2023-03-07 19:01:24,827 p=5223 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 19:01:24,849 p=5223 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 19:01:24,855 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:01:24,871 p=5223 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:01:24,884 p=5223 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:01:24,934 p=5223 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:01:24,935 p=5223 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:01:24,943 p=5223 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:01:24,951 p=5223 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:01:25,000 p=5223 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:01:25,001 p=5223 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:01:25,007 p=5223 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:01:25,016 p=5223 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:01:25,067 p=5223 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:01:25,068 p=5223 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:01:25,074 p=5223 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:01:25,083 p=5223 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************
2023-03-07 19:01:25,850 p=5223 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 19:01:25,853 p=5223 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 19:01:25,859 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:01:25,867 p=5223 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************
2023-03-07 19:01:27,176 p=5223 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 19:01:27,182 p=5223 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 19:01:27,186 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:01:27,195 p=5223 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************
2023-03-07 19:01:40,800 p=5223 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 19:01:40,830 p=5223 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 19:01:43,057 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:01:43,065 p=5223 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************
2023-03-07 19:01:44,218 p=5223 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 19:01:44,266 p=5223 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 19:01:44,284 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:01:44,292 p=5223 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************
2023-03-07 19:02:11,020 p=5223 u=ubuntu n=ansible | changed: [worker2]
2023-03-07 19:02:11,045 p=5223 u=ubuntu n=ansible | changed: [worker1]
2023-03-07 19:02:23,706 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:02:23,723 p=5223 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:02:23,737 p=5223 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************
2023-03-07 19:03:07,680 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:03:07,689 p=5223 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************
2023-03-07 19:03:08,400 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:03:08,410 p=5223 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************
2023-03-07 19:03:08,950 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:03:08,959 p=5223 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************
2023-03-07 19:03:09,643 p=5223 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:03:09,652 p=5223 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************
2023-03-07 19:03:10,281 p=5223 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.082945", "end": "2023-03-07 19:03:10.213042", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 19:03:10.130097", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 19:03:10,282 p=5223 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************
2023-03-07 19:03:10,282 p=5223 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 19:03:10,283 p=5223 u=ubuntu n=ansible | master                     : ok=15   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-03-07 19:03:10,283 p=5223 u=ubuntu n=ansible | worker1                    : ok=11   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 19:03:10,283 p=5223 u=ubuntu n=ansible | worker2                    : ok=11   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 19:03:55,854 p=6077 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************
2023-03-07 19:03:55,867 p=6077 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************
2023-03-07 19:03:55,882 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:03:55,887 p=6077 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************
2023-03-07 19:03:57,718 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:03:57,724 p=6077 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************
2023-03-07 19:03:57,757 p=6077 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 19:03:57,763 p=6077 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************
2023-03-07 19:03:58,945 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:03:58,952 p=6077 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************
2023-03-07 19:03:59,939 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:03:59,945 p=6077 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************
2023-03-07 19:04:00,921 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:00,927 p=6077 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************
2023-03-07 19:04:02,031 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:02,039 p=6077 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************
2023-03-07 19:04:03,648 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:03,656 p=6077 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************
2023-03-07 19:04:03,693 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:03,699 p=6077 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************
2023-03-07 19:04:04,438 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:04,448 p=6077 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instances for master and worker-nodes] ****************************************************************
2023-03-07 19:04:04,455 p=6077 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************
2023-03-07 19:04:04,469 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:04,472 p=6077 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************
2023-03-07 19:04:04,484 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:04,489 p=6077 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************
2023-03-07 19:04:05,973 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:05,981 p=6077 u=ubuntu n=ansible | TASK [Update master node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:04:07,190 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:07,197 p=6077 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************
2023-03-07 19:04:08,407 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:08,414 p=6077 u=ubuntu n=ansible | TASK [Update worker node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:04:09,599 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:09,606 p=6077 u=ubuntu n=ansible | TASK [Create key pair for all clusternodes] ***************************************************************************************************
2023-03-07 19:04:10,618 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:10,626 p=6077 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************
2023-03-07 19:04:10,657 p=6077 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 19:04:10,663 p=6077 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************
2023-03-07 19:04:11,885 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:11,892 p=6077 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:04:12,926 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:12,932 p=6077 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:04:13,963 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:13,970 p=6077 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************
2023-03-07 19:04:14,358 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:14,364 p=6077 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************
2023-03-07 19:04:14,612 p=6077 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:04:14,622 p=6077 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************
2023-03-07 19:04:14,627 p=6077 u=ubuntu n=ansible | TASK [Gathering Facts] ************************************************************************************************************************
2023-03-07 19:04:16,936 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:16,951 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:17,001 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:17,018 p=6077 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************
2023-03-07 19:04:17,067 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:17,068 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:17,076 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:17,084 p=6077 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************
2023-03-07 19:04:17,725 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:17,727 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:17,735 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:17,752 p=6077 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:04:17,766 p=6077 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:04:17,818 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:17,819 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:17,826 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:17,856 p=6077 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:04:17,906 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:17,911 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:17,914 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:17,923 p=6077 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:04:17,972 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:17,973 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:17,979 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:17,988 p=6077 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************
2023-03-07 19:04:18,715 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:18,719 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:18,723 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:18,732 p=6077 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************
2023-03-07 19:04:19,712 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:19,750 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:19,857 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:19,867 p=6077 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************
2023-03-07 19:04:20,066 p=6077 u=ubuntu n=ansible | skipping: [master]
2023-03-07 19:04:20,076 p=6077 u=ubuntu n=ansible | skipping: [worker1]
2023-03-07 19:04:20,093 p=6077 u=ubuntu n=ansible | skipping: [worker2]
2023-03-07 19:04:20,101 p=6077 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************
2023-03-07 19:04:21,120 p=6077 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:04:21,122 p=6077 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:04:21,128 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:21,137 p=6077 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************
2023-03-07 19:04:21,340 p=6077 u=ubuntu n=ansible | skipping: [master]
2023-03-07 19:04:21,345 p=6077 u=ubuntu n=ansible | skipping: [worker1]
2023-03-07 19:04:21,363 p=6077 u=ubuntu n=ansible | skipping: [worker2]
2023-03-07 19:04:21,380 p=6077 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:04:21,393 p=6077 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************
2023-03-07 19:04:21,932 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:21,941 p=6077 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************
2023-03-07 19:04:22,621 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:22,631 p=6077 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************
2023-03-07 19:04:23,307 p=6077 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:04:23,317 p=6077 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************
2023-03-07 19:04:23,995 p=6077 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:04:24,005 p=6077 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************
2023-03-07 19:04:24,600 p=6077 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml", "delta": "0:00:00.070279", "end": "2023-03-07 19:04:24.534296", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 19:04:24.464017", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 19:04:24,601 p=6077 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************
2023-03-07 19:04:24,601 p=6077 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 19:04:24,601 p=6077 u=ubuntu n=ansible | master                     : ok=13   changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 19:04:24,601 p=6077 u=ubuntu n=ansible | worker1                    : ok=9    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 19:04:24,602 p=6077 u=ubuntu n=ansible | worker2                    : ok=9    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 19:13:24,947 p=6904 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************
2023-03-07 19:13:24,960 p=6904 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************
2023-03-07 19:13:24,976 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:24,981 p=6904 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************
2023-03-07 19:13:26,759 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:26,766 p=6904 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************
2023-03-07 19:13:26,797 p=6904 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 19:13:26,803 p=6904 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************
2023-03-07 19:13:27,969 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:27,976 p=6904 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************
2023-03-07 19:13:28,957 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:28,963 p=6904 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************
2023-03-07 19:13:29,975 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:29,981 p=6904 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************
2023-03-07 19:13:31,066 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:31,074 p=6904 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************
2023-03-07 19:13:32,660 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:32,668 p=6904 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************
2023-03-07 19:13:32,704 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:32,711 p=6904 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************
2023-03-07 19:13:33,426 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:33,437 p=6904 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instances for master and worker-nodes] ****************************************************************
2023-03-07 19:13:33,444 p=6904 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************
2023-03-07 19:13:33,458 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:33,462 p=6904 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************
2023-03-07 19:13:33,475 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:33,480 p=6904 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************
2023-03-07 19:13:34,997 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:35,005 p=6904 u=ubuntu n=ansible | TASK [Update master node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:13:36,191 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:36,197 p=6904 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************
2023-03-07 19:13:37,391 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:37,398 p=6904 u=ubuntu n=ansible | TASK [Update worker node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:13:38,679 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:38,685 p=6904 u=ubuntu n=ansible | TASK [Create key pair for all clusternodes] ***************************************************************************************************
2023-03-07 19:13:39,676 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:39,683 p=6904 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************
2023-03-07 19:13:39,714 p=6904 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 19:13:39,720 p=6904 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************
2023-03-07 19:13:40,949 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:40,956 p=6904 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:13:41,972 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:41,978 p=6904 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:13:43,077 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:43,083 p=6904 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************
2023-03-07 19:13:43,464 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:43,470 p=6904 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************
2023-03-07 19:13:43,722 p=6904 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:13:43,732 p=6904 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************
2023-03-07 19:13:43,737 p=6904 u=ubuntu n=ansible | TASK [Gathering Facts] ************************************************************************************************************************
2023-03-07 19:13:45,381 p=6904 u=ubuntu n=ansible | ok: [cntl]
2023-03-07 19:13:45,866 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:45,873 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:45,946 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:45,963 p=6904 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************
2023-03-07 19:13:46,011 p=6904 u=ubuntu n=ansible | ok: [cntl]
2023-03-07 19:13:46,029 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:46,031 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:46,040 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:46,048 p=6904 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************
2023-03-07 19:13:46,579 p=6904 u=ubuntu n=ansible | changed: [cntl]
2023-03-07 19:13:46,786 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:46,798 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:46,828 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:46,846 p=6904 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:13:46,859 p=6904 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:13:46,933 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:46,935 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:46,945 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:46,954 p=6904 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:13:47,004 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:47,004 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:47,013 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:47,021 p=6904 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:13:47,069 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:47,070 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:47,079 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:47,088 p=6904 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************
2023-03-07 19:13:47,806 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:47,814 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:47,817 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:47,826 p=6904 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************
2023-03-07 19:13:48,787 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:48,831 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:48,846 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:48,856 p=6904 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************
2023-03-07 19:13:49,055 p=6904 u=ubuntu n=ansible | skipping: [master]
2023-03-07 19:13:49,064 p=6904 u=ubuntu n=ansible | skipping: [worker1]
2023-03-07 19:13:49,082 p=6904 u=ubuntu n=ansible | skipping: [worker2]
2023-03-07 19:13:49,090 p=6904 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************
2023-03-07 19:13:50,084 p=6904 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:13:50,095 p=6904 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:13:50,113 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:50,122 p=6904 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************
2023-03-07 19:13:50,322 p=6904 u=ubuntu n=ansible | skipping: [master]
2023-03-07 19:13:50,330 p=6904 u=ubuntu n=ansible | skipping: [worker1]
2023-03-07 19:13:50,353 p=6904 u=ubuntu n=ansible | skipping: [worker2]
2023-03-07 19:13:50,370 p=6904 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:13:50,383 p=6904 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************
2023-03-07 19:13:50,914 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:50,924 p=6904 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************
2023-03-07 19:13:51,607 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:51,617 p=6904 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************
2023-03-07 19:13:52,291 p=6904 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:13:52,301 p=6904 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************
2023-03-07 19:13:52,986 p=6904 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:13:52,995 p=6904 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************
2023-03-07 19:13:53,945 p=6904 u=ubuntu n=ansible | [WARNING]: Consider using the get_url or uri module rather than running 'wget'.  If you need to use command because get_url or uri is
insufficient you can add 'warn: false' to this command task or set 'command_warnings=False' in ansible.cfg to get rid of this message.

2023-03-07 19:13:53,946 p=6904 u=ubuntu n=ansible | changed: [master]
2023-03-07 19:13:53,955 p=6904 u=ubuntu n=ansible | TASK [Apply weavenet configuration file] ******************************************************************************************************
2023-03-07 19:13:54,567 p=6904 u=ubuntu n=ansible | fatal: [master]: FAILED! => {"changed": true, "cmd": "kubectl apply -f weave-daemonset-k8s.yaml >> pre.txt", "delta": "0:00:00.074289", "end": "2023-03-07 19:13:54.499685", "msg": "non-zero return code", "rc": 1, "start": "2023-03-07 19:13:54.425396", "stderr": "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
2023-03-07 19:13:54,569 p=6904 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************
2023-03-07 19:13:54,569 p=6904 u=ubuntu n=ansible | cntl                       : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 19:13:54,569 p=6904 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 19:13:54,569 p=6904 u=ubuntu n=ansible | master                     : ok=14   changed=2    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2023-03-07 19:13:54,570 p=6904 u=ubuntu n=ansible | worker1                    : ok=9    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 19:13:54,570 p=6904 u=ubuntu n=ansible | worker2                    : ok=9    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 19:16:04,966 p=7849 u=ubuntu n=ansible | ERROR! conflicting action statements: shell, remote_src

The error appears to be in '/home/ubuntu/k8s-automation/install.yaml': line 81, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: Apply weavenet configuration file
    ^ here

2023-03-07 19:17:28,660 p=7865 u=ubuntu n=ansible | PLAY [creating of Vpc and subnets] ************************************************************************************************************
2023-03-07 19:17:28,673 p=7865 u=ubuntu n=ansible | TASK [Importing Variables] ********************************************************************************************************************
2023-03-07 19:17:28,688 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:28,693 p=7865 u=ubuntu n=ansible | TASK [Create VPC] *****************************************************************************************************************************
2023-03-07 19:17:30,458 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:30,465 p=7865 u=ubuntu n=ansible | TASK [print output] ***************************************************************************************************************************
2023-03-07 19:17:30,498 p=7865 u=ubuntu n=ansible | ok: [localhost] => {
    "vpcout.vpc.id": "vpc-0bbb843a09b4a9fa2"
}
2023-03-07 19:17:30,503 p=7865 u=ubuntu n=ansible | TASK [public subnet 1 creation] ***************************************************************************************************************
2023-03-07 19:17:31,674 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:31,681 p=7865 u=ubuntu n=ansible | TASK [public subnet 2  creation] **************************************************************************************************************
2023-03-07 19:17:32,687 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:32,693 p=7865 u=ubuntu n=ansible | TASK [public subnet 3  creation] **************************************************************************************************************
2023-03-07 19:17:33,689 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:33,696 p=7865 u=ubuntu n=ansible | TASK [Create an Internrnt gate way for my vpc] ************************************************************************************************
2023-03-07 19:17:34,764 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:34,772 p=7865 u=ubuntu n=ansible | TASK [Creating a routing table] ***************************************************************************************************************
2023-03-07 19:17:36,294 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:36,302 p=7865 u=ubuntu n=ansible | TASK [Gather all subnet_ids into a vraible file] **********************************************************************************************
2023-03-07 19:17:36,339 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:36,345 p=7865 u=ubuntu n=ansible | TASK [create a vraible file] ******************************************************************************************************************
2023-03-07 19:17:37,086 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:37,096 p=7865 u=ubuntu n=ansible | PLAY [This playbook is for creating ec2 instances for master and worker-nodes] ****************************************************************
2023-03-07 19:17:37,103 p=7865 u=ubuntu n=ansible | TASK [import variables] ***********************************************************************************************************************
2023-03-07 19:17:37,117 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:37,122 p=7865 u=ubuntu n=ansible | TASK [import variable] ************************************************************************************************************************
2023-03-07 19:17:37,136 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:37,141 p=7865 u=ubuntu n=ansible | TASK [create security group for master node] **************************************************************************************************
2023-03-07 19:17:38,638 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:38,646 p=7865 u=ubuntu n=ansible | TASK [Update master node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:17:39,794 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:39,801 p=7865 u=ubuntu n=ansible | TASK [Create secuirty for worker-nodes] *******************************************************************************************************
2023-03-07 19:17:40,986 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:40,992 p=7865 u=ubuntu n=ansible | TASK [Update worker node security group to allow traffic within itself] ***********************************************************************
2023-03-07 19:17:42,242 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:42,249 p=7865 u=ubuntu n=ansible | TASK [Create key pair for all clusternodes] ***************************************************************************************************
2023-03-07 19:17:43,253 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:43,260 p=7865 u=ubuntu n=ansible | TASK [store key into file for ssh] ************************************************************************************************************
2023-03-07 19:17:43,291 p=7865 u=ubuntu n=ansible | skipping: [localhost]
2023-03-07 19:17:43,297 p=7865 u=ubuntu n=ansible | TASK [ec2 instance for master-node] ***********************************************************************************************************
2023-03-07 19:17:44,543 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:44,549 p=7865 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:17:45,608 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:45,614 p=7865 u=ubuntu n=ansible | TASK [ec2-instances for workernodes] **********************************************************************************************************
2023-03-07 19:17:46,657 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:46,663 p=7865 u=ubuntu n=ansible | TASK [Update all nodes ip into vars file] *****************************************************************************************************
2023-03-07 19:17:47,044 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:47,050 p=7865 u=ubuntu n=ansible | TASK [create an inventory file for k8s cluster] ***********************************************************************************************
2023-03-07 19:17:47,299 p=7865 u=ubuntu n=ansible | ok: [localhost]
2023-03-07 19:17:47,309 p=7865 u=ubuntu n=ansible | PLAY [This playbook is to set host ip mapping in etc/hosts directory] *************************************************************************
2023-03-07 19:17:47,313 p=7865 u=ubuntu n=ansible | TASK [Gathering Facts] ************************************************************************************************************************
2023-03-07 19:17:48,871 p=7865 u=ubuntu n=ansible | ok: [cntl]
2023-03-07 19:17:49,449 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:49,455 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:49,517 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:49,534 p=7865 u=ubuntu n=ansible | TASK [import ips] *****************************************************************************************************************************
2023-03-07 19:17:49,580 p=7865 u=ubuntu n=ansible | ok: [cntl]
2023-03-07 19:17:49,603 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:49,607 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:49,611 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:49,620 p=7865 u=ubuntu n=ansible | TASK [Update etc/host files on all nodes] *****************************************************************************************************
2023-03-07 19:17:50,179 p=7865 u=ubuntu n=ansible | ok: [cntl]
2023-03-07 19:17:50,349 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:50,364 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:50,395 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:50,414 p=7865 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:17:50,428 p=7865 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:17:50,480 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:50,483 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:50,488 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:50,497 p=7865 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:17:50,547 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:50,548 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:50,556 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:50,564 p=7865 u=ubuntu n=ansible | TASK [import varaibles] ***********************************************************************************************************************
2023-03-07 19:17:50,612 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:50,615 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:50,622 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:50,631 p=7865 u=ubuntu n=ansible | TASK [disable swapp] **************************************************************************************************************************
2023-03-07 19:17:51,356 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:51,359 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:51,363 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:51,372 p=7865 u=ubuntu n=ansible | TASK [Copy script to nodes] *******************************************************************************************************************
2023-03-07 19:17:52,413 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:52,418 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:52,421 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:52,432 p=7865 u=ubuntu n=ansible | TASK [Execute script file on remote host] *****************************************************************************************************
2023-03-07 19:17:52,632 p=7865 u=ubuntu n=ansible | skipping: [master]
2023-03-07 19:17:52,638 p=7865 u=ubuntu n=ansible | skipping: [worker1]
2023-03-07 19:17:52,660 p=7865 u=ubuntu n=ansible | skipping: [worker2]
2023-03-07 19:17:52,669 p=7865 u=ubuntu n=ansible | TASK [Copy script for installing kubeadm, kubectl and kubelet to  nodes] **********************************************************************
2023-03-07 19:17:53,636 p=7865 u=ubuntu n=ansible | ok: [worker1]
2023-03-07 19:17:53,685 p=7865 u=ubuntu n=ansible | ok: [worker2]
2023-03-07 19:17:53,694 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:53,702 p=7865 u=ubuntu n=ansible | TASK [Execute script file for installing kubeadm, kubectl and kubelet on remote host] *********************************************************
2023-03-07 19:17:53,899 p=7865 u=ubuntu n=ansible | skipping: [master]
2023-03-07 19:17:53,910 p=7865 u=ubuntu n=ansible | skipping: [worker1]
2023-03-07 19:17:53,924 p=7865 u=ubuntu n=ansible | skipping: [worker2]
2023-03-07 19:17:53,940 p=7865 u=ubuntu n=ansible | PLAY [This playbook is to set up the kubernetes worker node] **********************************************************************************
2023-03-07 19:17:53,954 p=7865 u=ubuntu n=ansible | TASK [Initialize Kubernetes cluster] **********************************************************************************************************
2023-03-07 19:17:54,484 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:54,493 p=7865 u=ubuntu n=ansible | TASK [creat .kube directory] ******************************************************************************************************************
2023-03-07 19:17:55,177 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:55,187 p=7865 u=ubuntu n=ansible | TASK [Copy kube config file to home directory] ************************************************************************************************
2023-03-07 19:17:55,868 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:55,878 p=7865 u=ubuntu n=ansible | TASK [set host name] **************************************************************************************************************************
2023-03-07 19:17:56,404 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:56,414 p=7865 u=ubuntu n=ansible | TASK [install pod network add on] *************************************************************************************************************
2023-03-07 19:17:56,943 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:56,953 p=7865 u=ubuntu n=ansible | TASK [Apply weavenet configuration file] ******************************************************************************************************
2023-03-07 19:17:57,478 p=7865 u=ubuntu n=ansible | ok: [master]
2023-03-07 19:17:57,494 p=7865 u=ubuntu n=ansible | PLAY RECAP ************************************************************************************************************************************
2023-03-07 19:17:57,494 p=7865 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-03-07 19:17:57,495 p=7865 u=ubuntu n=ansible | localhost                  : ok=22   changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-03-07 19:17:57,495 p=7865 u=ubuntu n=ansible | master                     : ok=15   changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 19:17:57,495 p=7865 u=ubuntu n=ansible | worker1                    : ok=9    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2023-03-07 19:17:57,495 p=7865 u=ubuntu n=ansible | worker2                    : ok=9    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
